<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥ä¸šé—äº§æˆåŠŸæ¡ˆä¾‹ä¸œéƒŠè®°å¿†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a3a 0%, #0d1b2a 100%);
            color: #f0f0f0;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .game-wrapper {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(77, 184, 255, 0.2);
        }
        
        h1 {
            color: #4db8ff;
            font-size: 2.8rem;
            margin-bottom: 12px;
            text-shadow: 0 0 15px rgba(77, 184, 255, 0.3);
        }
        
        .subtitle {
            color: #a0d2ff;
            font-size: 1.3rem;
            font-weight: 300;
        }
        
        .progress-container {
            width: 100%;
            margin: 0 auto 20px;
            background: rgba(40, 50, 60, 0.5);
            border-radius: 10px;
            padding: 8px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .progress-bar {
            height: 12px;
            border-radius: 6px;
            background: linear-gradient(90deg, #4db8ff, #2a8fcc);
            width: 0%;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 10px rgba(77, 184, 255, 0.5);
        }
        
        .progress-text {
            text-align: center;
            margin-top: 8px;
            font-size: 0.9rem;
            color: #a0d2ff;
        }
        
        .main-content {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .game-container {
            flex: 3;
            position: relative;
            border: 3px solid #2a3a4a;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            background: #15202b;
        }
        
        canvas {
            display: block;
            width: 100%;
            height: auto;
        }
        
        .sidebar {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .panel {
            background: rgba(30, 40, 50, 0.85);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #3a4a5a;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        h2 {
            color: #4db8ff;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(77, 184, 255, 0.2);
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        h2 i {
            font-style: normal;
            background: rgba(77, 184, 255, 0.2);
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .controls p {
            margin-bottom: 12px;
            line-height: 1.6;
        }
        
        .key {
            display: inline-block;
            background: #2a3a4a;
            padding: 3px 8px;
            border-radius: 4px;
            margin: 0 5px;
            font-weight: 600;
            box-shadow: 0 2px 0 #1a2a3a;
            color: #a0d2ff;
            font-size: 0.9rem;
            border: 1px solid #3a4a5a;
        }
        
        .location-list, .achievement-list {
            list-style: none;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .location-list::-webkit-scrollbar,
        .achievement-list::-webkit-scrollbar {
            width: 6px;
        }
        
        .location-list::-webkit-scrollbar-thumb,
        .achievement-list::-webkit-scrollbar-thumb {
            background: #4db8ff;
            border-radius: 3px;
        }
        
        .location-list li {
            padding: 10px 8px;
            border-bottom: 1px solid #3a4a5a;
            display: flex;
            align-items: center;
            transition: all 0.2s;
        }
        
        .location-list li:hover {
            background: rgba(255, 255, 255, 0.05);
            padding-left: 12px;
        }
        
        .location-list li:last-child {
            border-bottom: none;
        }
        
        .location-icon {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .discovered {
            color: #4db8ff;
        }
        
        .location-status {
            margin-left: auto;
            font-size: 0.8rem;
            padding: 2px 8px;
            border-radius: 12px;
            background: rgba(77, 184, 255, 0.1);
            color: #4db8ff;
        }
        
        .location-status.completed {
            background: rgba(46, 204, 113, 0.1);
            color: #2ecc71;
        }
        
        .achievement-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #3a4a5a;
            transition: transform 0.2s;
        }
        
        .achievement-item:hover {
            transform: translateX(5px);
        }
        
        .achievement-item:last-child {
            border-bottom: none;
        }
        
        .achievement-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #3a4a5a;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 1.2rem;
        }
        
        .achievement-icon.unlocked {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
        }
        
        .achievement-info {
            flex: 1;
        }
        
        .achievement-title {
            font-weight: 600;
            color: #ddd;
            margin-bottom: 3px;
        }
        
        .achievement-desc {
            font-size: 0.8rem;
            color: #aaa;
            line-height: 1.4;
        }
        
        .growth-panel {
            flex: 1;
        }
        
        .growth-stages {
            display: flex;
            justify-content: space-between;
            margin: 20px 0 30px;
            position: relative;
            padding: 0 10px;
        }
        
        .growth-stages::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 20px;
            right: 20px;
            height: 4px;
            background: #3a4a5a;
            z-index: 1;
        }
        
        .growth-stage {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #3a4a5a;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-weight: bold;
            position: relative;
            z-index: 2;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
        }
        
        .growth-stage.active {
            background: #9b59b6;
            color: white;
            box-shadow: 0 0 15px rgba(155, 89, 182, 0.7);
            transform: scale(1.2);
            border-color: #9b59b6;
        }
        
        .growth-stage.completed {
            background: #2ecc71;
            color: white;
            box-shadow: 0 0 10px rgba(46, 204, 113, 0.5);
        }
        
        .growth-stage-label {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            font-size: 0.75rem;
            color: #aaa;
            max-width: 80px;
            text-align: center;
        }
        
        .growth-details {
            background: rgba(40, 50, 60, 0.5);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid #3a4a5a;
        }
        
        .growth-title {
            color: #9b59b6;
            margin-bottom: 10px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .growth-description {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #e0e0e0;
            margin-bottom: 15px;
        }
        
        .growth-stats {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }
        
        .growth-stat {
            flex: 1;
            text-align: center;
            padding: 10px 5px;
            background: rgba(0,0,0,0.2);
            border-radius: 6px;
        }
        
        .growth-stat-label {
            font-size: 0.8rem;
            color: #aaa;
            margin-bottom: 5px;
        }
        
        .growth-stat-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: #9b59b6;
        }
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            padding: 20px;
        }
        
        .modal {
            background: #1a2a3a;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            border: 2px solid #4db8ff;
        }
        
        .modal.comparison-modal {
            border-color: #4db8ff;
        }
        
        .modal.npc-modal {
            max-width: 600px;
            border-color: #2ecc71;
        }
        
        .modal.growth-modal {
            max-width: 500px;
            border-color: #9b59b6;
            text-align: center;
        }
        
        .modal.redevelopment-modal {
            max-width: 700px;
            border-color: #f39c12;
        }
        
        .modal.memory-modal {
            max-width: 1000px;
            border-color: #e74c3c;
        }
        
        .modal-header {
            padding: 20px 20px 15px;
            border-bottom: 1px solid rgba(77, 184, 255, 0.2);
        }
        
        .modal-title {
            color: #4db8ff;
            margin: 0;
            font-size: 1.5rem;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid rgba(77, 184, 255, 0.2);
            display: flex;
            justify-content: flex-end;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
            position: absolute;
            top: 15px;
            right: 20px;
            transition: color 0.3s;
        }
        
        .close-btn:hover {
            color: #4db8ff;
        }
        
        .btn {
            background: #4db8ff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: #2a8fcc;
            transform: translateY(-2px);
        }
        
        .comparison-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .comparison-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        @media (max-width: 768px) {
            .comparison-row {
                flex-direction: column;
            }
        }
        
        .comparison-item {
            flex: 1;
        }
        
        .comparison-item h3 {
            color: #4db8ff;
            margin: 0 0 10px;
            font-size: 1.1rem;
        }
        
        .comparison-image-container {
            background: #2a3a4a;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            height: 240px;
            margin-bottom: 10px;
            border: 1px solid #3a4a5a;
        }
        
        .comparison-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .comparison-image-container:hover .comparison-image {
            transform: scale(1.05);
        }
        
        .image-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            padding: 15px 10px 10px;
            font-size: 0.9rem;
            color: white;
        }
        
        .comparison-description {
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        .location-facts {
            background: rgba(40, 50, 60, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .location-facts h4 {
            color: #a0d2ff;
            margin-bottom: 10px;
            font-size: 1rem;
        }
        
        .location-facts ul {
            padding-left: 20px;
            line-height: 1.6;
            font-size: 0.9rem;
        }
        
        .npc-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .npc-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #2a3a4a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            flex-shrink: 0;
        }
        
        .npc-info h3 {
            color: #2ecc71;
            margin: 0 0 5px;
        }
        
        .npc-role {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .npc-dialog {
            background: rgba(40, 50, 60, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            line-height: 1.7;
            position: relative;
        }
        
        .npc-dialog::before {
            content: '"';
            font-size: 3rem;
            color: rgba(46, 204, 113, 0.2);
            position: absolute;
            top: -10px;
            left: 10px;
            font-family: Georgia, serif;
        }
        
        .npc-choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .npc-choice {
            background: #2a3a4a;
            border: 1px solid #3a4a5a;
            color: #e0e0e0;
            padding: 12px 15px;
            border-radius: 6px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
        }
        
        .npc-choice:hover {
            background: #3a4a5a;
            border-color: #2ecc71;
            transform: translateX(5px);
        }
        
        .growth-modal-icon {
            font-size: 3rem;
            margin: 10px 0 20px;
        }
        
        .growth-modal h3 {
            color: #9b59b6;
            margin: 0 0 15px;
            font-size: 1.3rem;
        }
        
        .growth-modal p {
            line-height: 1.7;
            margin-bottom: 20px;
        }
        
        .growth-metrics {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .growth-metric {
            text-align: center;
            padding: 10px 15px;
            background: rgba(40, 50, 60, 0.3);
            border-radius: 6px;
            min-width: 100px;
        }
        
        .growth-metric-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #9b59b6;
            margin: 5px 0;
        }
        
        .redevelopment-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }
        
        .redevelopment-option {
            background: #2a3a4a;
            border: 1px solid #3a4a5a;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .redevelopment-option:hover {
            border-color: #f39c12;
            transform: translateY(-3px);
            background: #3a4a5a;
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }
        
        .redevelopment-option h3 {
            color: #f39c12;
            margin: 0 0 8px;
            font-size: 1.1rem;
        }
        
        .redevelopment-option p {
            margin: 0 0 12px;
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        .impact-metrics {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }
        
        .impact-metric {
            flex: 1;
            text-align: center;
            padding: 8px;
            background: rgba(0,0,0,0.2);
            border-radius: 4px;
        }
        
        .impact-metric-label {
            font-size: 0.8rem;
            color: #aaa;
        }
        
        .impact-metric-value {
            font-size: 1.1rem;
            font-weight: bold;
            color: #f39c12;
        }
        
        .redevelopment-result {
            background: rgba(40, 50, 60, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .achievement-popup {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(30, 40, 50, 0.95);
            border: 2px solid #f39c12;
            border-radius: 10px;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1000;
            transform: translateY(150%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 380px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .achievement-popup.show {
            transform: translateY(0);
        }
        
        .achievement-popup-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            flex-shrink: 0;
        }
        
        .achievement-popup-info h3 {
            color: #f39c12;
            margin: 0 0 5px;
            font-size: 1.1rem;
        }
        
        .achievement-popup-info p {
            margin: 0;
            color: #e0e0e0;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .welcome-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .welcome-content {
            background: #1a2a3a;
            border-radius: 10px;
            padding: 30px;
            max-width: 600px;
            width: 100%;
            text-align: center;
            border: 2px solid #4db8ff;
        }
        
        .welcome-content h2 {
            color: #4db8ff;
            margin-bottom: 20px;
            border-bottom: none;
        }
        
        .welcome-content p {
            margin-bottom: 20px;
            line-height: 1.7;
            font-size: 1rem;
        }
        
        .start-btn {
            background: #4db8ff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }
        
        .start-btn:hover {
            background: #2a8fcc;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(77, 184, 255, 0.3);
        }
        
        /* è®°å¿†æ¸¸æˆæ ·å¼ */
        .memory-game-container {
            display: none;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .memory-game-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .memory-game-header h2 {
            color: #4db8ff;
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .memory-game-header p {
            color: #a0d2ff;
            font-size: 1.1rem;
        }
        
        .memory-game-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .memory-game-stats {
            display: flex;
            justify-content: space-around;
            background: rgba(30, 40, 50, 0.8);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 1px solid #3a4a5a;
        }
        
        .memory-stat {
            text-align: center;
        }
        
        .memory-stat-label {
            font-size: 0.9rem;
            color: #aaa;
            margin-bottom: 5px;
        }
        
        .memory-stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #4db8ff;
        }
        
        .memory-game-board {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 12px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 1200px) {
            .memory-game-board {
                grid-template-columns: repeat(5, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .memory-game-board {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .memory-game-board {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .memory-game-board {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .memory-card {
            height: 180px;
            perspective: 1000px;
            cursor: pointer;
        }
        
        .memory-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        
        .memory-card.flipped .memory-card-inner {
            transform: rotateY(180deg);
        }
        
        .memory-card.matched .memory-card-inner {
            transform: rotateY(180deg);
        }
        
        .memory-card-front, .memory-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .memory-card-front {
            background: linear-gradient(135deg, #7f8c8d, #95a5a6);
            color: #2c3e50;
            font-weight: bold;
        }
        
        .memory-card-front::before {
            content: "?";
            font-size: 3rem;
            color: rgba(44, 62, 80, 0.3);
        }
        
        .memory-card-back {
            background-color: #ecf0f1;
            color: #2c3e50;
            transform: rotateY(180deg);
            overflow: hidden;
            padding: 0;
        }
        
        .memory-card-back img {
            width: 100%;
            height: 70%;
            object-fit: cover;
            border-radius: 5px 5px 0 0;
            margin-bottom: 0;
        }
        
        .memory-card-title {
            font-size: 0.9rem;
            font-weight: bold;
            margin: 5px 0;
            padding: 0 5px;
        }
        
        .memory-card-desc {
            font-size: 0.7rem;
            color: #7f8c8d;
            padding: 0 5px 5px;
        }
        
        .memory-card.matched .memory-card-back {
            background-color: #2ecc71;
            color: white;
        }
        
        .memory-game-info {
            background: rgba(30, 40, 50, 0.8);
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            border: 1px solid #3a4a5a;
        }
        
        .memory-game-info h3 {
            color: #4db8ff;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.3rem;
        }
        
        .memory-game-info-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .memory-info-item {
            background: rgba(40, 50, 60, 0.5);
            padding: 15px;
            border-radius: 8px;
        }
        
        .memory-info-item h4 {
            color: #e67e22;
            margin-bottom: 10px;
        }
        
        .memory-info-item p {
            line-height: 1.6;
            font-size: 0.9rem;
        }
        
        .level-complete-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            padding: 20px;
        }
        
        .level-complete-content {
            background: #1a2a3a;
            border-radius: 10px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            border: 2px solid #4db8ff;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }
        
        .level-complete-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }
        
        .level-complete-content h3 {
            color: #4db8ff;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .level-complete-content p {
            line-height: 1.7;
            margin-bottom: 20px;
        }
        
        .memory-win-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            padding: 20px;
        }
        
        .memory-win-content {
            background: #1a2a3a;
            border-radius: 10px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            border: 2px solid #e74c3c;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }
        
        .memory-win-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: bounce 1s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .memory-win-content h3 {
            color: #e74c3c;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .memory-win-content p {
            line-height: 1.7;
            margin-bottom: 20px;
        }
        
        .memory-final-stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        
        .memory-final-stat {
            text-align: center;
        }
        
        .memory-final-stat-label {
            font-size: 0.9rem;
            color: #aaa;
            margin-bottom: 5px;
        }
        
        .memory-final-stat-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: #e74c3c;
        }
        
        @media (max-width: 1200px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .panel {
                flex: 1;
                min-width: 300px;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .subtitle {
                font-size: 1.1rem;
            }
            
            .sidebar {
                flex-direction: column;
            }
            
            .comparison-image-container {
                height: 200px;
            }
            
            .growth-stages {
                flex-wrap: wrap;
                justify-content: center;
                gap: 30px;
            }
            
            .growth-stages::before {
                display: none;
            }
        }
        
        @media (max-width: 480px) {
            .game-container {
                border-width: 2px;
                border-radius: 6px;
            }
            
            .panel {
                padding: 15px;
            }
            
            h2 {
                font-size: 1.1rem;
            }
            
            .comparison-image-container {
                height: 160px;
            }
            
            .modal-body {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="welcome-modal" id="welcomeModal">
        <div class="welcome-content">
            <h2>æ¬¢è¿æ¥åˆ°æˆéƒ½ä¸œéƒŠè®°å¿†çš„æ¢ç´¢ä¹‹æ—…ï¼</h2>
            <p>ä½ å°†åœ¨æ¢ç´¢çš„è¿‡ç¨‹ä¸­ä¸æ–­è®¤è¯†çº¢å…‰ç”µå­ç®¡å‚åˆ°ä¸œéƒŠè®°å¿†çš„æ”¹é€ è¿‡ç¨‹ã€‚</p>
            <p>åœ¨æ¢é™©ä¸­ï¼Œä½ ä¼šé‡åˆ°å„ç§äººç‰©ï¼Œäº†è§£å·¥ä¸šæ•…äº‹ï¼Œè§è¯è€å‚æˆ¿çš„æ–°ç”Ÿã€‚æ¯è§£é”ä¸€ä¸ªåœ°ç‚¹ï¼Œæ¯ä¸ä¸€ä½NPCäº¤æµï¼Œéƒ½ä¼šè®©ä½ è·å¾—æˆé•¿ï¼</p>
            <button class="start-btn" id="startBtn">å¼€å§‹æ¢ç´¢ä¸œéƒŠè®°å¿†</button>
        </div>
    </div>
    
    <div class="game-wrapper">
        <header>
            <h1>æˆéƒ½ä¸œéƒŠè®°å¿†çš„æ¢ç´¢ä¹‹æ—…</h1>
            <p class="subtitle">é€æ¸è®¤è¯†ä¸œéƒŠè®°å¿†</p>
        </header>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
            <div class="progress-text">æ¢ç´¢è¿›åº¦: <span id="progressPercent">0%</span></div>
        </div>
        
        <!-- ç¬¬ä¸€å…³ï¼šå›­åŒºæ¢ç´¢æ¸¸æˆ -->
        <div id="exploration-game">
            <div class="main-content">
                <div class="game-container">
                    <canvas id="gameCanvas" width="1200" height="600"></canvas>
                </div>
                
                <div class="sidebar">
                    <div class="controls panel">
                        <h2><i>ğŸ®</i> æ¢ç´¢æŒ‡å—</h2>
                        <p>ä½¿ç”¨ <span class="key">W</span> <span class="key">A</span> <span class="key">S</span> <span class="key">D</span> æˆ–æ–¹å‘é”®ç§»åŠ¨è§’è‰²</p>
                        <p>é è¿‘åœ°ç‚¹åæŒ‰ <span class="key">F</span> é”®æŸ¥çœ‹å·¥ä¸šé—äº§è¯¦æƒ…</p>
                        <p>é è¿‘äººç‰©åæŒ‰ <span class="key">E</span> é”®äº¤æµæˆ–è¿›è¡Œæ”¹é€ å†³ç­–</p>
                        <p>æŒ‰ <span class="key">ESC</span> é”®å…³é—­æ‰€æœ‰å¯¹è¯æ¡†</p>
                        <p style="margin-top: 15px; padding-top: 15px; border-top: 1px dashed #3a4a5a;">æ¢ç´¢å›­åŒºï¼Œä¸äººä»¬äº¤æµï¼Œäº†è§£å·¥ä¸šå†å²ï¼Œå®Œæˆä½ çš„æˆé•¿ä¹‹è·¯ï¼</p>
                    </div>
                    
                    <div class="panel">
                        <h2><i>ğŸ—ºï¸</i> æ¢ç´¢åœ°ç‚¹</h2>
                        <ul class="location-list" id="locationList"></ul>
                    </div>
                </div>
            </div>
            
            <div class="sidebar" style="margin-bottom: 30px;">
                <div class="panel">
                    <h2><i>ğŸ†</i> æˆé•¿æˆå°±</h2>
                    <ul class="achievement-list" id="achievementList"></ul>
                </div>
                
                <div class="growth-panel panel">
                    <h2><i>ğŸŒ±</i> æ¢ç´¢è¿›åº¦</h2>
                    <div class="growth-stages">
                        <div class="growth-stage" data-stage="1">
                            <span>1</span>
                            <div class="growth-stage-label">æ¢é™©è€…</div>
                        </div>
                        <div class="growth-stage" data-stage="2">
                            <span>2</span>
                            <div class="growth-stage-label">åˆè¯†è€…</div>
                        </div>
                        <div class="growth-stage" data-stage="3">
                            <span>3</span>
                            <div class="growth-stage-label">ç†Ÿç»ƒè€…</div>
                        </div>
                        <div class="growth-stage" data-stage="4">
                            <span>4</span>
                            <div class="growth-stage-label">ç†ŸçŸ¥è€…</div>
                        </div>
                        <div class="growth-stage" data-stage="5">
                            <span>5</span>
                            <div class="growth-stage-label">æŒæ¡è€…</div>
                        </div>
                    </div>
                    <div class="growth-details">
                        <div class="growth-title" id="currentGrowthTitle"></div>
                        <div class="growth-description" id="currentGrowthDesc">
                           
                        </div>
                        <div class="growth-stats">
                            <div class="growth-stat">
                                <div class="growth-stat-label">å†å²çŸ¥è¯†</div>
                                <div class="growth-stat-value" id="knowledgeStat">0%</div>
                            </div>
                            <div class="growth-stat">
                                <div class="growth-stat-label">ä¿æŠ¤ç†è§£</div>
                                <div class="growth-stat-value" id="understandingStat">0%</div>
                            </div>
                            <div class="growth-stat">
                                <div class="growth-stat-label">å®è·µæŠ€èƒ½</div>
                                <div class="growth-stat-value" id="skillStat">0%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ç¬¬äºŒå…³ï¼šè®°å¿†é…å¯¹æ¸¸æˆ -->
        <div class="memory-game-container" id="memoryGameContainer">
            <div class="memory-game-header">
                <h2>å·¥ä¸šé—äº§è®°å¿†é…å¯¹æŒ‘æˆ˜</h2>
                <p>å°†æ¯ä¸ªå·¥ä¸šé—äº§çš„æ”¹é€ å‰å’Œæ”¹é€ åå›¾ç‰‡é…å¯¹èµ·æ¥ï¼Œæµ‹è¯•ä½ å¯¹å·¥ä¸šé—äº§æ”¹é€ çš„äº†è§£ï¼</p>
            </div>
            
            <div class="memory-game-controls">
                <button class="btn" id="memoryStartBtn">å¼€å§‹æ¸¸æˆ</button>
                <button class="btn" id="memoryResetBtn">é‡æ–°å¼€å§‹</button>
                <button class="btn" id="memoryHintBtn">æç¤º</button>
            </div>
            
            <div class="memory-game-stats">
                <div class="memory-stat">
                    <div class="memory-stat-label">å°è¯•æ¬¡æ•°</div>
                    <div class="memory-stat-value" id="memoryAttempts">0</div>
                </div>
                <div class="memory-stat">
                    <div class="memory-stat-label">åŒ¹é…å¯¹æ•°</div>
                    <div class="memory-stat-value" id="memoryMatches">0/12</div>
                </div>
                <div class="memory-stat">
                    <div class="memory-stat-label">æ—¶é—´</div>
                    <div class="memory-stat-value" id="memoryTimer">00:00</div>
                </div>
            </div>
            
            <div class="memory-game-board" id="memoryGameBoard">
                <!-- å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <div class="memory-game-info">
                <h3>å·¥ä¸šé—äº§ä¿æŠ¤çš„é‡è¦æ€§</h3>
                <div class="memory-game-info-content">
                    <div class="memory-info-item">
                        <h4>å†å²ä»·å€¼</h4>
                        <p>å·¥ä¸šé—äº§è®°å½•äº†å·¥ä¸šé©å‘½ä»¥æ¥çš„æŠ€æœ¯è¿›æ­¥å’Œç¤¾ä¼šå‘å±•ï¼Œæ˜¯ç ”ç©¶å·¥ä¸šå†å²çš„é‡è¦å®ç‰©èµ„æ–™ã€‚</p>
                    </div>
                    <div class="memory-info-item">
                        <h4>æ–‡åŒ–ä»·å€¼</h4>
                        <p>å·¥ä¸šå»ºç­‘å’Œè®¾æ–½ä½“ç°äº†ç‰¹å®šæ—¶æœŸçš„å»ºç­‘é£æ ¼å’Œå·¥ç¨‹æŠ€æœ¯ï¼Œå…·æœ‰ç‹¬ç‰¹çš„æ–‡åŒ–ä»·å€¼ã€‚</p>
                    </div>
                    <div class="memory-info-item">
                        <h4>ç»æµä»·å€¼</h4>
                        <p>é€šè¿‡æ”¹é€ å†åˆ©ç”¨ï¼Œå·¥ä¸šé—äº§å¯ä»¥æˆä¸ºåˆ›æ„äº§ä¸šã€æ—…æ¸¸ä¸šå’Œæ–‡åŒ–æ´»åŠ¨çš„é‡è¦è½½ä½“ã€‚</p>
                    </div>
                    <div class="memory-info-item">
                        <h4>ç¯å¢ƒä»·å€¼</h4>
                        <p>æ”¹é€ åˆ©ç”¨ç°æœ‰å·¥ä¸šå»ºç­‘æ¯”æ‹†é™¤é‡å»ºæ›´ç¯ä¿ï¼Œç¬¦åˆå¯æŒç»­å‘å±•ç†å¿µã€‚</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="comparisonModal">
        <div class="modal comparison-modal">
            <button class="close-btn" id="closeComparisonModal">&times;</button>
            <div class="modal-header">
                <h3 class="modal-title" id="comparisonTitle">å·¥ä¸šé—äº§å¯¹æ¯”</h3>
            </div>
            <div class="modal-body" id="comparisonContent"></div>
            <div class="modal-footer">
                <button class="btn" id="closeComparisonBtn">å…³é—­</button>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="npcModal">
        <div class="modal npc-modal">
            <button class="close-btn" id="closeNpcModal">&times;</button>
            <div class="modal-body">
                <div class="npc-header">
                    <div class="npc-avatar" id="npcAvatar">ğŸ‘·</div>
                    <div class="npc-info">
                        <h3 id="npcName">æå·¥ç¨‹å¸ˆ</h3>
                        <div class="npc-role" id="npcRole">é€€ä¼‘å·¥ç¨‹å¸ˆ</div>
                    </div>
                </div>
                <div class="npc-dialog" id="npcDialog">
                    ä½ å¥½å•Šï¼æˆ‘æ›¾æ˜¯è¿™å®¶å·¥å‚çš„æ€»å·¥ç¨‹å¸ˆï¼Œåœ¨è¿™é‡Œå·¥ä½œäº†40å¹´ã€‚æƒ³å¬å¬å…³äºè¿™ç‰‡å‚åŒºçš„å†å²å—ï¼Ÿ
                </div>
                <div class="npc-choices" id="npcChoices">
                    <button class="npc-choice" data-response="hello">æ‚¨å¥½ï¼</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="growthModal">
        <div class="modal growth-modal">
            <button class="close-btn" id="closeGrowthModal">&times;</button>
            <div class="modal-body">
                <div class="growth-modal-icon">ğŸ‰</div>
                <h3 id="growthModalTitle"></h3>
                <p id="growthModalDesc"></p>
                <div class="growth-metrics">
                    <div class="growth-metric">
                        <div>çŸ¥è¯†æå‡</div>
                        <div class="growth-metric-value">+20%</div>
                    </div>
                    <div class="growth-metric">
                        <div>ç†è§£æå‡</div>
                        <div class="growth-metric-value">+15%</div>
                    </div>
                    <div class="growth-metric">
                        <div>æŠ€èƒ½æå‡</div>
                        <div class="growth-metric-value">+10%</div>
                    </div>
                </div>
                <button class="btn" id="closeGrowthBtn">ç»§ç»­æ¢ç´¢</button>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="redevelopmentModal">
        <div class="modal redevelopment-modal">
            <button class="close-btn" id="closeRedevelopmentModal">&times;</button>
            <div class="modal-header">
                <h3 class="modal-title" id="redevelopmentTitle">é€‰æ‹©æ”¹é€ æ–¹æ¡ˆ</h3>
            </div>
            <div class="modal-body" id="redevelopmentContent"></div>
            <div class="modal-footer">
                <button class="btn" id="closeRedevelopmentBtn">å–æ¶ˆ</button>
            </div>
        </div>
    </div>
    
    <div class="achievement-popup" id="achievementPopup">
        <div class="achievement-popup-icon">ğŸ†</div>
        <div class="achievement-popup-info">
            <h3 id="popupTitle">æˆå°±è§£é”</h3>
            <p id="popupDesc">ä½ è§£é”äº†æ–°æˆå°±ï¼</p>
        </div>
    </div>
    
    <!-- å…³å¡å®Œæˆæ¨¡æ€æ¡† -->
    <div class="level-complete-modal" id="levelCompleteModal">
        <div class="level-complete-content">
            <div class="level-complete-icon">ğŸ‰</div>
            <h3>æ­å–œå®Œæˆç¬¬ä¸€å…³ï¼</h3>
            <p>ä½ æˆåŠŸæ¢ç´¢äº†ä¸œéƒŠè®°å¿†å·¥ä¸šé—äº§æ”¹é€ å›­åŒºçš„æ‰€æœ‰åœ°ç‚¹ï¼Œäº†è§£äº†ä¸œéƒŠè®°å¿†å·¥ä¸šé—äº§çš„æ”¹é€ è¿‡ç¨‹ã€‚</p>
            <p>ç°åœ¨å¯ä»¥è¿›å…¥ç¬¬äºŒå…³ï¼šä¸œéƒŠè®°å¿†å·¥ä¸šé—äº§è®°å¿†é…å¯¹æŒ‘æˆ˜ã€‚</p>
            <button class="btn" id="nextLevelBtn">è¿›å…¥ç¬¬äºŒå…³</button>
        </div>
    </div>
    
    <!-- è®°å¿†æ¸¸æˆå®Œæˆæ¨¡æ€æ¡† -->
    <div class="memory-win-modal" id="memoryWinModal">
        <div class="memory-win-content">
            <div class="memory-win-icon">ğŸ‰</div>
            <h3>æ­å–œå®Œæˆç¬¬äºŒå…³ï¼</h3>
            <p>ä½ æˆåŠŸé…å¯¹äº†æ‰€æœ‰å·¥ä¸šé—äº§çš„æ”¹é€ å‰åå›¾ç‰‡ï¼Œäº†è§£äº†å®ƒä»¬ä»å·¥ä¸šè®¾æ–½åˆ°æ—…æ¸¸èƒœåœ°çš„è½¬å˜ã€‚</p>
            <div class="memory-final-stats">
                <div class="memory-final-stat">
                    <div class="memory-final-stat-label">å°è¯•æ¬¡æ•°</div>
                    <div class="memory-final-stat-value" id="finalAttempts">0</div>
                </div>
                <div class="memory-final-stat">
                    <div class="memory-final-stat-label">ç”¨æ—¶</div>
                    <div class="memory-final-stat-value" id="finalTime">00:00</div>
                </div>
            </div>
            <button class="btn" id="memoryPlayAgainBtn">å†ç©ä¸€æ¬¡</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            const progressBar = document.getElementById('progressBar');
            const progressPercent = document.getElementById('progressPercent');
            const locationList = document.getElementById('locationList');
            const achievementList = document.getElementById('achievementList');
            const currentGrowthTitle = document.getElementById('currentGrowthTitle');
            const currentGrowthDesc = document.getElementById('currentGrowthDesc');
            const knowledgeStat = document.getElementById('knowledgeStat');
            const understandingStat = document.getElementById('understandingStat');
            const skillStat = document.getElementById('skillStat');
            
            const comparisonModal = document.getElementById('comparisonModal');
            const comparisonTitle = document.getElementById('comparisonTitle');
            const comparisonContent = document.getElementById('comparisonContent');
            const closeComparisonModal = document.getElementById('closeComparisonModal');
            const closeComparisonBtn = document.getElementById('closeComparisonBtn');
            
            const npcModal = document.getElementById('npcModal');
            const npcAvatar = document.getElementById('npcAvatar');
            const npcName = document.getElementById('npcName');
            const npcRole = document.getElementById('npcRole');
            const npcDialog = document.getElementById('npcDialog');
            const npcChoices = document.getElementById('npcChoices');
            const closeNpcModal = document.getElementById('closeNpcModal');
            
            const growthModal = document.getElementById('growthModal');
            const growthModalTitle = document.getElementById('growthModalTitle');
            const growthModalDesc = document.getElementById('growthModalDesc');
            const closeGrowthModal = document.getElementById('closeGrowthModal');
            const closeGrowthBtn = document.getElementById('closeGrowthBtn');
            
            const redevelopmentModal = document.getElementById('redevelopmentModal');
            const redevelopmentTitle = document.getElementById('redevelopmentTitle');
            const redevelopmentContent = document.getElementById('redevelopmentContent');
            const closeRedevelopmentModal = document.getElementById('closeRedevelopmentModal');
            const closeRedevelopmentBtn = document.getElementById('closeRedevelopmentBtn');
            
            const achievementPopup = document.getElementById('achievementPopup');
            const popupTitle = document.getElementById('popupTitle');
            const popupDesc = document.getElementById('popupDesc');
            
            const welcomeModal = document.getElementById('welcomeModal');
            const startBtn = document.getElementById('startBtn');
            
            const explorationGame = document.getElementById('exploration-game');
            const memoryGameContainer = document.getElementById('memoryGameContainer');
            const levelCompleteModal = document.getElementById('levelCompleteModal');
            const nextLevelBtn = document.getElementById('nextLevelBtn');
            
            // è®°å¿†æ¸¸æˆå…ƒç´ 
            const memoryStartBtn = document.getElementById('memoryStartBtn');
            const memoryResetBtn = document.getElementById('memoryResetBtn');
            const memoryHintBtn = document.getElementById('memoryHintBtn');
            const memoryAttempts = document.getElementById('memoryAttempts');
            const memoryMatches = document.getElementById('memoryMatches');
            const memoryTimer = document.getElementById('memoryTimer');
            const memoryGameBoard = document.getElementById('memoryGameBoard');
            const memoryWinModal = document.getElementById('memoryWinModal');
            const finalAttempts = document.getElementById('finalAttempts');
            const finalTime = document.getElementById('finalTime');
            const memoryPlayAgainBtn = document.getElementById('memoryPlayAgainBtn');
            
            // æ¸¸æˆçŠ¶æ€
            const gameState = {
                player: {
                    x: 600,
                    y: 300,
                    width: 16,
                    height: 20,
                    speed: 3,
                    color: '#4db8ff',
                    direction: 'down',
                    growthStage: 1
                },
                keys: {},
                locations: [],
                discovered: 0,
                totalLocations: 12,
                npcs: [],
                talkedNpcs: [],
                tiles: [],
                tileSize: 32,
                achievements: [],
                completedAchievements: 0,
                totalAchievements: 12,
                currentRedevelopmentLocation: null,
                currentNpc: null,
                stats: {
                    knowledge: 0,
                    understanding: 0,
                    skill: 0
                },
                growthStages: [
                    {
                        stage: 1,
                        title: "æ¢é™©è€…",
                        description: "",
                        required: 0
                    },
                    {
                        stage: 2,
                        title: "åˆè¯†è€…",
                        description: "",
                        required: 2
                    },
                    {
                        stage: 3,
                        title: "ç†Ÿç»ƒè€…",
                        description: "",
                        required: 5
                    },
                    {
                        stage: 4,
                        title: "ç†ŸçŸ¥è€…",
                        description: "",
                        required: 8
                    },
                    {
                        stage: 5,
                        title: "æŒæ¡è€…",
                        description: "",
                        required: 12
                    }
                ]
            };
            
            // è®°å¿†æ¸¸æˆçŠ¶æ€
            const memoryGameState = {
                started: false,
                flippedCards: [],
                matchedPairs: 0,
                attempts: 0,
                timer: null,
                seconds: 0,
                totalPairs: 12
            };
            
            // åœ°ç‚¹æ•°æ®ï¼ˆ12ä¸ªï¼‰
            const locationsData = [
                {
                    id: 1,
                    x: 150,
                    y: 100,
                    name: "å·¥å‚æ—ç©ºåœ°",
                    color: "#e74c3c",
                    year: "1953å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "  å·¥å‚æ—è¾¹çš„é—²ç½®è’åœ°ï¼Œæœªè¢«å¼€å‘è¿‡çš„åœŸåœ°ï¼ŒåœŸåœ°æ³¥æ³ï¼Œè¿œå¤„å¯è§ç®€é™‹å»ºç­‘å’Œå·¥å‚çƒŸå›±ï¼Œå››å‘¨å›´æœ‰æ‘è½ï¼Œéƒ½æ˜¯è€æ—§çš„æˆ¿å±‹ã€‚",
                        image: "imagesss/å·¥å‚æ—ç©ºåœ°æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "  æˆä¸ºç¯å¢ƒä¼˜ç¾çš„æ–‡åŒ–ä¼‘é—²ç©ºé—´ï¼Œæœ‰å¤§ç‰‡è‰åªã€ç°ä»£é£æ ¼å»ºç­‘ï¼Œä¼—å¤šå¸‚æ°‘æ¸¸å®¢åœ¨æ­¤ä¼‘é—²å¨±ä¹ã€‚æ”¹é€ è¿‡ç¨‹ä¸­è¿›è¡Œäº†æ™¯è§‚ç»¿åŒ–ã€å»ºç­‘åŠŸèƒ½ç½®æ¢ï¼Œä»å·¥ä¸šå»ºè®¾å·¥åœ°é€æ­¥è½¬å˜ä¸ºåŸå¸‚æ–‡åŒ–ä¼‘é—²ç»¼åˆä½“ï¼ŒåŠŸèƒ½ä»å·¥ä¸šç”Ÿäº§ç”¨åœ°å˜ä¸ºå¸‚æ°‘æ–‡åŒ–ä¼‘é—²ã€ç¤¾äº¤çš„å…¬å…±ç©ºé—´ã€‚",
                        image: "imagesss/å·¥å‚æ—ç©ºåœ°æ”¹é€ å.jpg"
                    },
                    facts: [
                        "è’åœ°é€æ­¥æ”¹é€ ä¸ºé›†ç»¿åœ°ã€å…·æœ‰ç‰¹è‰²é£æ ¼çš„å»ºç­‘ã€å¼€é˜”æ´»åŠ¨åœºåœ°äºä¸€ä½“çš„åŸå¸‚æ–‡åŒ–ä¼‘é—²åŒº",
                        
                        
                    ],
                    redevelopmentOptions: [
                        {
                            id: "art",
                            title: "è¿›è¡Œå•†ä¸šè¡—æ”¹é€ ",
                            description: "å‘¨å›´å»ºç­‘è®¾ç½®åº—é“ºï¼Œå»ºç«‹å•†ä¸šè¡—ï¼Œä¿ç•™å·¥ä¸šç‰¹è‰²",
                            impact: {
                                culture: 40,
                                economy: 90,
                                sustainability: 50
                            }
                        },
                        {
                            id: "education",
                            title: "è¿›è¡Œä¼‘é—²è§‚å…‰ç©ºé—´æ”¹é€ ",
                            description: "å»ºç«‹ä¼‘é—²å¨±ä¹åœºåœ°ï¼Œå·¥å‚ç‰¹è‰²è§‚å…‰ï¼Œä»‹ç»å½“æ—¶çš„å·¥å‚è¿è¡Œç­‰",
                            impact: {
                                culture: 80,
                                economy: 40,
                                sustainability: 90
                            }
                        },
                        {
                            id: "tech",
                            title: "å„¿ç«¥æ¸¸ä¹åœº",
                            description: "æ”¹é€ ä¸ºä¸“å±äºå„¿ç«¥çš„ä¹å›­ï¼Œç¯å¢ƒä¿ç•™å·¥ä¸šç‰¹è‰²",
                            impact: {
                                culture: 50,
                                economy: 70,
                                sustainability: 75
                            }
                        }
                    ]
                },
                {
                    id: 2,
                    x: 900,
                    y: 150,
                    name: "ç¬¬äºŒå‚æˆ¿",
                    color: "#9b59b6",
                    year: "1965å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "çº¢å…‰ç”µå­å‚çš„çº¢ç –å‚æˆ¿ï¼Œå±äºå·¥ä¸šç”Ÿäº§åŒºåŸŸï¼Œå¢™é¢æœ´ç´ ï¼Œä»¥æ»¡è¶³ç”Ÿäº§åŠŸèƒ½ä¸ºä¸»ï¼Œæ˜¯å…¸å‹çš„å·¥ä¸šç”Ÿäº§ç©ºé—´",
                        image: "imagesss/ç¬¬äºŒå‚æˆ¿æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "ä¿ç•™çº¢ç –å‚æˆ¿å·¥ä¸šé£è²Œï¼Œå¢™é¢ä¸Šè‰ºæœ¯åŒ–å‘ˆç° â€œæˆéƒ½â€ å­—æ ·ï¼Œè®¾ç½®åˆ›æ„å……æ°”è£…ç½®ï¼Œæˆä¸ºç½‘çº¢æ‰“å¡ç‚¹ã€‚æ”¹é€ æ—¶å¯¹å»ºç­‘å¤–è§‚è¿›è¡Œè‰ºæœ¯åŒ–å¤„ç†ï¼Œæ³¨å…¥æ–‡åŒ–åˆ›æ„å…ƒç´ ï¼Œå°†å·¥ä¸šå»ºç­‘è½¬å˜ä¸ºå…·æœ‰åŸå¸‚æ–‡åŒ–ç¬¦å·çš„æ™¯è§‚ï¼Œä»å•ä¸€å·¥ä¸šç”Ÿäº§ç©ºé—´å˜ä¸ºæ–‡åŒ–æ¶ˆè´¹å’Œåˆ›æ„å±•ç¤ºç©ºé—´ã€‚",
                        image: "imagesss/ç¬¬äºŒå‚æˆ¿æ”¹é€ å.jpg"
                    },
                    facts: [
                        "éµå¾ª â€œä¿®æ—§å¦‚æ—§ï¼Œæ—§æˆ¿æ–°ç”¨â€ ç†å¿µï¼Œä¿ç•™å‚æˆ¿å»ºç­‘ç»“æ„ä¸å†å²ç—•è¿¹ï¼Œé€šè¿‡è‰ºæœ¯åŒ–çš„å¢™é¢è£…é¥°å’Œæ½®æµ IP å¼•å…¥ï¼Œå¯¹å¢™é¢è¿›è¡Œè‰ºæœ¯åŒ–å¤„ç†ï¼Œå°†å·¥ä¸šç©ºé—´è½¬åŒ–ä¸ºå…·æœ‰æ‰“å¡å±æ€§çš„å…¬å…±åŒºåŸŸï¼Œå¸å¼•äººæµå¹¶æ³¨å…¥å•†ä¸šæ´»åŠ›",
                        
                    ],
                    redevelopmentOptions: [
                        {
                            id: "exhibition",
                            title: "æ”¹é€ æˆå•†ä¸šä¸­å¿ƒ",
                            description: "ä½œä¸ºå¹´è½»äººçš„æ‰“å¼€åœ°ï¼Œäººæµé‡å¤§ï¼Œåœ¨å‘¨å›´å»ºç«‹å•†ä¸šåº—é“º",
                            impact: {
                                culture: 50,
                                economy: 90,
                                sustainability: 50
                            }
                        },
                        {
                            id: "market",
                            title: "æ–‡åˆ›å¸‚é›†",
                            description: "ä¸ºæœ¬åœ°æ‰‹å·¥è‰ºäººå’Œè®¾è®¡å¸ˆæä¾›é”€å”®å¹³å°",
                            impact: {
                                culture: 60,
                                economy: 80,
                                sustainability: 60
                            }
                        },
                        {
                            id: "community",
                            title: "å¹´è½»äººæ´»åŠ¨ä¸­å¿ƒ",
                            description: "æœåŠ¡äºå¹´è½»äººçš„æ–‡åŒ–ä½“è‚²æ´»åŠ¨ç©ºé—´",
                            impact: {
                                culture: 60,
                                economy: 40,
                                sustainability: 95
                            }
                        }
                    ]
                },
                {
                    id: 3,
                    x: 300,
                    y: 250,
                    name: "å·¥å‚ä¾§é—¨",
                    color: "#e67e22",
                    year: "1958å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "å±•ç°çš„æ˜¯çº¢å…‰ç”µå­å‚è¿˜åœ¨è¿è¡Œçš„ä¾§é—¨åœºæ™¯ï¼Œå»ºç­‘é£æ ¼å…·æœ‰é²œæ˜çš„æ—¶ä»£ç‰¹å¾ï¼Œè½¦è¾†ã€å»ºç­‘å¸ƒå±€éƒ½ä½“ç°å‡ºå·¥ä¸šå‚åŒºçš„åº„é‡ä¸åŠŸèƒ½æ€§ï¼Œæ˜¯å½“æ—¶ä¼ä¸šç”Ÿäº§è¿è¥çš„å…¥å£å½¢è±¡ã€‚",
                        image: "imagesss/å·¥å‚ä¾§é—¨æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "åŸå‚åŒºåŒºåŸŸè¢«æ‰“é€ ä¸º â€œä¸œéƒŠè®°å¿†â€ æ–‡åˆ›å›­åŒºï¼Œå»ºç­‘å¤–è§‚ä¿ç•™å·¥ä¸šè´¨æ„Ÿçš„åŒæ—¶ï¼Œæ–°å¢é†’ç›®çš„ â€œä¸œéƒŠè®°å¿†â€ è‰ºæœ¯æ‹›ç‰Œï¼Œå‘¨è¾¹èå…¥ç°ä»£åŸå¸‚å»ºç­‘ï¼Œæˆä¸ºé›†æ–‡åŒ–ã€è‰ºæœ¯ã€å•†ä¸šäºä¸€ä½“çš„åˆ›æ„åœ°æ ‡ï¼Œä»å°é—­çš„å·¥ä¸šå‚åŒºå…¥å£è½¬å˜ä¸ºå¼€æ”¾çš„æ–‡æ—…å›­åŒºé—¨æˆ·ã€‚",
                        image: "imagesss/å·¥å‚ä¾§é—¨æ”¹é€ å.jpg"
                    },
                    facts: [
                        "å¯¹åŸæœ‰å»ºç­‘è¿›è¡Œä¿æŠ¤æ€§ä¿®ç¼®ï¼Œå¼ºåŒ–æ ‡è¯†ç³»ç»Ÿï¼Œæ•´åˆå‘¨è¾¹ç©ºé—´ï¼Œä½¿å…¶ä»å·¥ä¸šç”Ÿäº§çš„å…¥å£ç©ºé—´è½¬å‹ä¸ºæ–‡åˆ›å›­åŒºçš„å½¢è±¡å±•ç¤ºä¸å®¢æµå¯¼å…¥åŒºåŸŸã€‚",
                       
                    ],
                    redevelopmentOptions: [
                        {
                            id: "experience",
                            title: "é—¨å£å•†ä¸šå°åƒæ‘†æ‘ŠåŒº",
                            description: "å¢åŠ å•†ä¸šæ°”æ°›ï¼Œä¸ºæ¸¸å®¢æä¾›å„ç§å°åƒç¾é£Ÿ",
                            impact: {
                                culture: 30,
                                economy: 90,
                                sustainability: 30
                            }
                        },
                        {
                            id: "museum",
                            title: "ç¬¬äºŒåœè½¦å‚",
                            description: "ç”±äºæ¸¸å®¢çš„é€æ¸å¢å¤šï¼Œåœè½¦åœºè½¦ä½é€æ¸ä¸å¤Ÿç”¨ï¼Œå»ºç«‹ç¬¬äºŒåœè½¦åœºï¼Œä¿ç•™å·¥ä¸šé£æ ¼",
                            impact: {
                                culture: 40,
                                economy: 65,
                                sustainability: 90
                            }
                        },
                        {
                            id: "event",
                            title: "æ´»åŠ¨åœºåœ°",
                            description: "ä¸å»ºè®¾ä»»ä½•å»ºç­‘ï¼Œç•™å‡ºä¸€å—ç©ºåœ°ï¼Œä¸ºæ¸¸å®¢æä¾›è¿›å…¥å›­åŒºå‰çš„æ´»åŠ¨ç©ºé—´",
                            impact: {
                                culture: 50,
                                economy: 40,
                                sustainability: 80
                            }
                        }
                    ]
                },
                {
                    id: 4,
                    x: 700,
                    y: 300,
                    name: "ç”Ÿäº§æ€»éƒ¨",
                    color: "#3498db",
                    year: "1962å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "å»ºç­‘é£æ ¼åå‘å·¥ä¸šç”Ÿäº§åœºæ‰€çš„åŠŸèƒ½æ€§ï¼Œå¤–è§‚ç›¸å¯¹æœ´ç´ ï¼Œæ˜¯ç”¨äºå·¥ä¸šç”Ÿäº§æˆ–ç›¸å…³æ´»åŠ¨çš„ç©ºé—´",
                        image: "imagesss/ç”Ÿäº§æ€»éƒ¨æ”¹é€ å‰.jpg"
                        },
                    after: {
                        title: "æ”¹é€ å",
                        description: "ä¿ç•™äº†åŸæœ‰å·¥ä¸šå»ºç­‘çš„ä¸»ä½“ç»“æ„ï¼Œæ–°å¢äº†å·¥ä¸šé£çš„é’¢ç»“æ„å’Œçº¢è‰²ç½ä½“è£…ç½®,è½¬å‹ä¸ºè‰ºæœ¯ä¸­å¿ƒï¼Œå°†åŸæœ¬å•ä¸€çš„å·¥ä¸šå»ºç­‘è½¬å˜ä¸ºå…·æœ‰è‰ºæœ¯æ„Ÿå’Œè§†è§‰å†²å‡»åŠ›çš„æ™¯è§‚ï¼Œä»æ™®é€šçš„å·¥ä¸šå»ºç­‘å‡çº§ä¸ºå·¥ä¸šè‰ºæœ¯æ‰“å¡åœ°ã€‚",
                        image: "imagesss/ç”Ÿäº§æ€»éƒ¨æ”¹é€ å.jpg"
                    },
                    facts: [
                        "å¯¹å»ºç­‘å¤–éƒ¨è¿›è¡Œå·¥ä¸šå…ƒç´ çš„è‰ºæœ¯åŒ–é‡æ„ï¼Œæ·»åŠ é’¢ç»“æ„æ¡†æ¶å’Œçº¢è‰²ç½ä½“ï¼Œé€šè¿‡è¿™äº›å…ƒç´ çš„ç»„åˆï¼Œå¼ºåŒ–å·¥ä¸šé—äº§çš„è§†è§‰ç‰¹å¾ï¼Œä½¿å…¶æˆä¸ºå…·æœ‰æ ‡å¿—æ€§çš„æ™¯è§‚ç©ºé—´ã€‚",
                    ],
                    redevelopmentOptions: [
                        {
                            id: "cowork",
                            title: "å¢åŠ å•†ä¸šå…ƒç´ ",
                            description: "ä¸ºè‰ºæœ¯äº§å“çš„å”®å–æä¾›ç©ºé—´",
                            impact: {
                                culture: 60,
                                economy: 90,
                                sustainability: 60
                            }
                        },
                        {
                            id: "tech",
                            title: "è‰ºæœ¯å±•è§ˆ",
                            description: "æ”¹é€ æˆå¸¦æœ‰å·¥ä¸šé£æ ¼çš„è‰ºæœ¯å±•è§ˆé¦†",
                            impact: {
                                culture: 70,
                                economy: 70,
                                sustainability: 80
                            }
                        },
                        {
                            id: "education",
                            title: "è‰ºæœ¯åˆ›ä½œåŸºåœ°",
                            description: "ä¸ºè¡Œä¸šå†…çš„è‰ºæœ¯äººæä¾›åˆ›ä½œçš„ç©ºé—´",
                            impact: {
                                culture: 70,
                                economy: 50,
                                sustainability: 60
                            }
                        }
                    ]
                },
                {
                    id: 5,
                    x: 450,
                    y: 450,
                    name: "å·¥å‚å¤§é—¨",
                    color: "#2980b9",
                    year: "1955å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "å‘ˆç°çš„æ˜¯çº¢å…‰ç”µå­å‚å¸¦æœ‰çƒŸå›±ã€çº¢ç –å¤§é—¨ï¼Œå»ºç­‘é£æ ¼åšé‡ï¼Œå……æ»¡å·¥ä¸šç”Ÿäº§çš„å†å²æ„Ÿ",
                        image: "imagesss/å·¥å‚å¤§é—¨æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "æ”¹é€ ä¸ºç”Ÿæ€æ°´å¤„ç†å±•ç¤ºé¦†å’Œç¤¾åŒºæ°´æ™¯è§‚ï¼Œå±•ç¤ºå·¥ä¸šç”¨æ°´å¤„ç†æŠ€æœ¯å’Œæ°´èµ„æºä¿æŠ¤ç†å¿µï¼Œæ°´å¡”æ”¹é€ ä¸ºè§‚æ™¯å°ã€‚",
                        image: "imagesss/å·¥å‚å¤§é—¨æ”¹é€ å.jpg"
                    },
                    facts: [
                        "æ”¹å–„æ€»ä½“ç¯å¢ƒ"
                    ],
                    redevelopmentOptions: [
                        {
                            id: "eco",
                            title: "æ”¹å–„äººè¡Œé“",
                            description: "ä½œä¸ºå…¥å£ï¼Œå½¢è±¡éœ€è¦æ›´å¥½ï¼Œç¾åŒ–ç¯å¢ƒå¯ä»¥å¸å¼•äººæµ",
                            impact: {
                                culture: 40,
                                economy: 40,
                                sustainability: 95
                            }
                        },
                        {
                            id: "leisure",
                            title: "ä¼‘é—²æ°´æ™¯è§‚",
                            description: "å»ºè®¾å–·æ³‰ï¼Œæˆä¸ºè¿›è¿›å…¥å›­åŒºå‰çš„ä¸€é“äº®ä¸½é£æ™¯",
                            impact: {
                                culture: 65,
                                economy: 40,
                                sustainability: 80

                            }
                        },
                        {
                            id: "hotel",
                            title: "ç‰¹è‰²é…’åº—",
                            description: "åˆ©ç”¨ç‹¬ç‰¹å»ºç­‘ç»“æ„æ”¹é€ çš„ä¸»é¢˜é…’åº—ï¼Œåœ¨å›­åŒºé—¨å£å°±æœ‰é…’åº—ï¼Œä¾¿åˆ©æ¸¸å®¢å‡ºè¡Œ",
                            impact: {
                                culture: 70,
                                economy: 90,
                                sustainability: 70
                            }
                        }
                    ]
                },
                {
                    id: 6,
                    x: 800,
                    y: 480,
                    name: "å·¥å‚æ€»éƒ¨",
                    color: "#7f8c8d",
                    year: "1954å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "æ˜¯çº¢å…‰ç”µå­å‚å»ºå‚æ—¶æœŸçš„å·¥ä¸šå‚åŒºå…¨è²Œï¼Œå»ºç­‘å¯†é›†ï¼ŒçƒŸå›±æ—ç«‹ï¼Œå‘ˆç°å‡ºå…¸å‹çš„å·¥ä¸šç”Ÿäº§åŒºçš„ç¹å¿™ä¸åšé‡ï¼Œä»¥ç”Ÿäº§åŠŸèƒ½ä¸ºä¸»ï¼Œå‘¨è¾¹ç¼ºä¹ç°ä»£åŸå¸‚çš„æ™¯è§‚å…ƒç´ ã€‚",
                        image: "imagesss/å·¥å‚æ€»éƒ¨æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "ä¿ç•™äº†å·¥ä¸šå»ºç­‘å’ŒçƒŸå›±ç­‰æ ‡å¿—æ€§å…ƒç´ ï¼Œèå…¥äº†ç°ä»£åŸå¸‚çš„é«˜æ¥¼æ™¯è§‚ï¼Œå°†å·¥ä¸šé—äº§åŒºåŸŸæ‰“é€ ä¸ºåŸå¸‚æ–‡åˆ›åœ°æ ‡ï¼Œä»å°é—­çš„å·¥ä¸šç”Ÿäº§åŒºè½¬å˜ä¸ºå¼€æ”¾çš„ã€ä¸åŸå¸‚ç°ä»£æ™¯è§‚èåˆçš„æ–‡åˆ›å›­åŒºã€‚",
                        image: "imagesss/å·¥å‚æ€»éƒ¨æ”¹é€ å.jpg"
                    },
                    facts: [
                        "å¯¹å·¥ä¸šå»ºç­‘è¿›è¡Œä¿æŠ¤æ€§ä¿®ç¼®ï¼Œä¿ç•™å…¶å†å²é£è²Œï¼ŒåŒæ—¶ç»“åˆåŸå¸‚å‘å±•ï¼Œå°†å‘¨è¾¹ç°ä»£å»ºç­‘æ™¯è§‚çº³å…¥å…¶ä¸­ï¼Œå½¢æˆå·¥ä¸šé—äº§ä¸ç°ä»£åŸå¸‚æ™¯è§‚çš„å¯¹è¯ã€‚"
                    ],
                    redevelopmentOptions: [
                        {
                            id: "park",
                            title: "å•†ä¸šå æ¯”ä¸ºä¸»",
                            description: "å°†å›­åŒºå†…è®¾ç½®å¤§é‡å•†ä¸šåŒ–ï¼Œä¿ç•™å·¥ä¸šé—äº§é£æ ¼",
                            impact: {
                                culture: 50,
                                economy: 90,
                                sustainability: 50
                            }
                        },
                        {
                            id: "tour",
                            title: "å·¥ä¸šé—äº§è§‚å…‰ä¸ºä¸»",
                            description: "å°½é‡ä¿ç•™å·¥ä¸šé—äº§å…¨è²Œï¼Œä¸ºæ¸¸å®¢æä¾›åŸå§‹çš„ç¯å¢ƒï¼Œå‡å°‘æŠ•èµ„",
                            impact: {
                                culture: 90,
                                economy: 35,
                                sustainability: 80
                            }
                        },
                        {
                            id: "market",
                            title: "æ¸¸ä¹åœºåœ°ä¸ºä¸»",
                            description: "è®¾ç½®å¤§é‡å¨±ä¹è®¾æ–½ã€å¨±ä¹åœºåœ°ï¼Œä¿ç•™å·¥ä¸šé—äº§é£æ ¼",
                            impact: {
                                culture: 40,
                                economy: 80,
                                sustainability: 60
                            }
                        }
                    ]
                },
                {
                    id: 7,
                    x: 200,
                    y: 400,
                    name: "å•†ä¸šåŒºäººè¡Œé“",
                    color: "#f1c40f",
                    year: "1956å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "æ˜¯å·¥ä¸šå‚åŒºçš„é“è·¯åœºæ™¯ï¼Œå»ºç­‘å’Œè®¾æ–½å‘ˆç°å‡ºå·¥ä¸šæ—¶ä»£çš„é£è²Œï¼Œè¾ƒä¸ºå†·æ¸…ï¼Œä»¥æ»¡è¶³å·¥ä¸šç”Ÿäº§çš„äº¤é€šå’ŒåŠŸèƒ½éœ€æ±‚ä¸ºä¸»ã€‚",
                        image: "imagesss/å•†ä¸šåŒºäººæ€§é“è·¯æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "æˆä¸ºå……æ»¡æ´»åŠ›çš„æ–‡åˆ›è¡—åŒºï¼Œæœ‰å¤§é‡äººç¾¤å‚ä¸æ´»åŠ¨ï¼Œå¸ƒç½®äº†æ½®æµçš„æ´»åŠ¨è£…ç½®å’Œå®£ä¼ ç‰Œï¼Œä»å†·æ¸…çš„å·¥ä¸šé“è·¯è½¬å˜ä¸ºçƒ­é—¹çš„ã€å…·æœ‰å•†ä¸šå’Œæ–‡åŒ–æ´»åŠ¨åŠŸèƒ½çš„æ½®æµè¡—åŒºã€‚",
                        image: "imagesss/å•†ä¸šåŒºäººè¡Œé“è·¯æ”¹é€ å.jpg"
                    },
                    facts: [
                        "å¯¹é“è·¯åŒºåŸŸè¿›è¡Œå•†ä¸šå’Œæ–‡åŒ–åŠŸèƒ½çš„æ”¹é€ ï¼Œå¼•å…¥å„ç±»æ–‡åˆ›æ´»åŠ¨ã€å•†ä¸šåº—é“ºï¼Œé€šè¿‡æ´»åŠ¨ç­–åˆ’å’Œåœºæ™¯å¸ƒç½®ï¼Œå¸å¼•äººæµï¼Œæ‰“é€ æˆä¸ºæ–‡åˆ›å•†ä¸šå’Œæ´»åŠ¨èšé›†åœ°ã€‚"
                    ],
                    redevelopmentOptions: [
                        {
                            id: "maker",
                            title: "ç»§ç»­æ·±å…¥å‘å±•å•†ä¸š",
                            description: "å¼•å…¥æ›´å¤šå–å®¶ï¼Œå¢æ·»å•†ä¸šæ°”æ°›",
                            impact: {
                                culture: 50,
                                economy: 90,
                                sustainability: 60
                            }
                        },
                        {
                            id: "craft",
                            title: "å‘å±•æ–‡åˆ›æ´»åŠ¨",
                            description: "ç»„ç»‡æ›´å¤šæœ‰å…³å·¥ä¸šé—äº§çš„ç‰¹è‰²æ–‡åˆ›æ´»åŠ¨ï¼Œä¸ºå›­åŒºå¢æ·»æ›´å¤šçƒ­é—¹æ°”æ°›",
                            impact: {
                                culture: 90,
                                economy: 45,
                                sustainability: 60
                            }
                        },
                        {
                            id: "design",
                            title: "å‡å°‘ä¸å¿…è¦çš„å»ºç­‘",
                            description: "æ‹“å®½é“è·¯ï¼Œä¸ºæ¸¸å®¢æä¾›æ›´å¤šæ´»åŠ¨ç©ºé—´",
                            impact: {
                                culture: 50,
                                economy: 70,
                                sustainability: 60
                            }
                        }
                    ]
                },
                {
                    id: 8,
                    x: 500,
                    y: 180,
                    name: "ç”Ÿäº§è½¦é—´",
                    color: "#9b59b6",
                    year: "1960å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "æ˜¯åºŸå¼ƒçš„å·¥ä¸šå‚æˆ¿å†…éƒ¨ï¼Œç»“æ„è™½åœ¨ä½†ç©ºé—´è’åºŸï¼Œåœ°é¢æ³¥æ³ï¼Œåªæœ‰æ–½å·¥è½¦è¾†å’Œå°‘é‡å·¥äººï¼Œå‘ˆç°å‡ºå·¥ä¸šåœäº§åå°çš„ç ´è´¥æ™¯è±¡ã€‚",
                        image: "imagesss/ç”Ÿäº§è½¦é—´æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "è½¬å˜ä¸ºçƒ­é—¹çš„æ–‡åˆ›å¸‚é›†ç©ºé—´ï¼Œæœ‰ä¼—å¤šæ‘Šä½å’Œäººç¾¤ï¼Œå¸ƒç½®äº†å……æ»¡åˆ›æ„çš„å¸‚é›†è£…é¥°å’Œå®£ä¼ æ¨ªå¹…ï¼Œä»åºŸå¼ƒçš„å·¥ä¸šå‚æˆ¿å†…éƒ¨è½¬å˜ä¸ºå…·æœ‰å•†ä¸šæ´»åŠ›å’Œåˆ›æ„æ°›å›´çš„æ–‡åˆ›å¸‚é›†åœºæ‰€ã€‚",
                        image: "imagesss/ç”Ÿäº§è½¦é—´æ”¹é€ å.jpg"
                    },
                    facts: [
                        "å¯¹å‚æˆ¿å†…éƒ¨ç©ºé—´è¿›è¡ŒåŠŸèƒ½æ”¹é€ ï¼Œæ¸…ç†åºŸå¼ƒè®¾æ–½ï¼Œåˆ’åˆ†å¸‚é›†æ‘Šä½åŒºåŸŸï¼Œå¼•å…¥æ–‡åˆ›å•†å®¶å’Œå¸‚é›†æ´»åŠ¨ï¼Œé€šè¿‡è½¯è£…å¸ƒç½®å’Œæ´»åŠ¨è¿è¥ï¼Œæ‰“é€ æˆä¸ºæ–‡åˆ›å¸‚é›†ç©ºé—´ã€‚"
                    ],
                    redevelopmentOptions: [
                        {
                            id: "energy",
                            title: "ç»§ç»­æ·±å…¥å‘å±•æ–‡åˆ›é›†å¸‚",
                            description: "å¼•å…¥æ›´å¤šçš„å–å®¶ï¼Œæ‹“å®½å•†ä¸šé›†å¸‚",
                            impact: {
                                culture: 70,
                                economy: 80,
                                sustainability: 60
                            }
                        },
                        {
                            id: "tech",
                            title: "å¼€è®¾å±•è§ˆ",
                            description: "å……åˆ†å±•ç°è¿‡å»åœ¨è¿™é‡Œçš„å·¥ä½œæµç¨‹",
                            impact: {
                                culture: 80,
                                economy: 50,
                                sustainability: 85
                            }
                        },
                        {
                            id: "education",
                            title: "ç»™æ¸¸å®¢æä¾›æ›´å¤šè‡ªç”±ç©ºé—´",
                            description: "å‡å°‘å»ºè®¾ï¼Œç»™æ¸¸å®¢æä¾›æ›´å¤šè‡ªç”±ç©ºé—´ï¼Œå‡å°‘ç»è´¹æŠ•èµ„",
                            impact: {
                                culture: 55,
                                economy: 50,
                                sustainability: 80
                            }
                        }
                    ]
                },
                {
                    id: 9,
                    x: 650,
                    y: 500,
                    name: "å‘˜å·¥å¨±ä¹åœºæ‰€",
                    color: "#1abc9c",
                    year: "1963å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "å»ºç­‘ä¸ºå·¥ä¸šé£æ ¼çš„å‚æˆ¿ä¸æ°´å¡”ï¼Œå¢™é¢æ–‘é©³ï¼Œå‘¨è¾¹å¸ƒç½®åå‘å·¥ä¸šç”Ÿäº§åœºæ™¯ï¼Œæ˜¯å…¸å‹çš„å·¥ä¸šå‚åŒºå†…éƒ¨ç©ºé—´è®¾ç½®éƒ¨åˆ†å¨±ä¹åœºåœ°ã€‚",
                        image: "imagesss/å‘˜å·¥å¨±ä¹åœºæ‰€æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "å°†å·¥ä¸šç©ºé—´è½¬å˜ä¸ºå…·æœ‰å•†ä¸šæ´»åŠ›å’Œè‰ºæœ¯æ„Ÿçš„æ¶ˆè´¹åœºæ‰€ï¼Œåä¸ºè®°å¿†é•¿å»Šï¼Œä»å•ä¸€çš„å·¥ä¸šç”Ÿäº§ç©ºé—´å‡çº§ä¸ºèåˆå·¥ä¸šé£ä¸å•†ä¸šçš„æ–‡åˆ›æ¶ˆè´¹åœºæ™¯ã€‚",
                        image: "imagesss/å‘˜å·¥å¨±ä¹åœºæ‰€æ”¹é€ å.jpg"
                    },
                    facts: [
                        "å¯¹å·¥ä¸šå»ºç­‘å¤–éƒ¨è¿›è¡Œå•†ä¸šåœºæ™¯çš„è‰ºæœ¯åŒ–å¸ƒç½®ï¼Œæ·»åŠ åˆ›æ„è£…ç½®ï¼Œå¼ºåŒ–å·¥ä¸šé—äº§çš„å•†ä¸šä»·å€¼ä¸è‰ºæœ¯è§‚èµæ€§ã€‚"
                    ],
                    redevelopmentOptions: [
                        {
                            id: "museum",
                            title: "å‘å±•å•†ä¸š",
                            description: "å¼€æ”¾åœºæ‰€ï¼Œè®©æ›´å¤šå¤–ç•Œäººå‘˜è¿›æ¥è¿›è¡Œå•†ä¸šæ´»åŠ¨",
                            impact: {
                                culture: 30,
                                economy: 90,
                                sustainability: 30
                            }
                        },
                        {
                            id: "lab",
                            title: "æ‰©å¤§å¨±ä¹äº§ä¸š",
                            description: "å°†ä»¥å‰çš„å¨±ä¹äº§ä¸šåšå¤§åšå¼ºï¼ŒåŠ å…¥ç”µå½±ã€æ¸¸æˆæœºç­‰æ›´å¤šå¨±ä¹é¡¹ç›®",
                            impact: {
                                culture:40,
                                economy:80,
                                sustainability: 60
                            }
                        },
                        
                    ]
                },
                {
                    id: 10,
                    x: 350,
                    y: 120,
                    name: "è¿è¾“è½¨é“",
                    color: "#34495e",
                    year: "1952å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "æ˜¯åºŸå¼ƒçš„å·¥ä¸šé“è·¯åŒºåŸŸï¼Œé“è½¨è’åºŸï¼Œå‘¨è¾¹å»ºç­‘ç ´æ—§ï¼Œå‘ˆç°å‡ºå·¥ä¸šåœäº§åçš„å†·æ¸…ä¸ç ´è´¥ï¼Œä»¥æ»¡è¶³å·¥ä¸šç”Ÿäº§çš„äº¤é€šåŠŸèƒ½ä¸ºä¸»ï¼Œç¼ºä¹äººæ–‡ä¸å•†ä¸šæ´»åŠ›ã€‚",
                        image: "imagesss/è¿è¾“è½¨é“æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "è½¬å˜ä¸ºå……æ»¡è‰ºæœ¯ä¸å•†ä¸šæ°”æ¯çš„è¡—åŒºï¼Œä¿ç•™äº†å·¥ä¸šé“è½¨çš„æ¡†æ¶ç»“æ„ï¼Œæ·»åŠ äº†å½©è‰²è‰ºæœ¯è£…ç½®ã€ç»¿æ¤æ™¯è§‚å’Œå•†ä¸šåº—é“ºï¼Œæˆä¸ºé›†è‰ºæœ¯è§‚èµã€ä¼‘é—²è´­ç‰©äºä¸€ä½“çš„æ–‡åˆ›è¡—åŒºï¼Œä»å†·æ¸…çš„å·¥ä¸šé“è·¯åŒºè½¬å˜ä¸ºçƒ­é—¹çš„è‰ºæœ¯å•†ä¸šè¡—åŒºã€‚",
                        image: "imagesss/è¿è¾“è½¨é“æ”¹é€ å.jpg"
                    },
                    facts: [
                        "å¯¹é“è·¯åŒºåŸŸè¿›è¡Œæ™¯è§‚ä¸å•†ä¸šåŠŸèƒ½æ”¹é€ ï¼Œä¿ç•™å·¥ä¸šé“è½¨å…ƒç´ ï¼Œå¼•å…¥è‰ºæœ¯è£…ç½®å’Œå•†ä¸šä¸šæ€ï¼Œé€šè¿‡ç»¿æ¤å¸ƒç½®æå‡ç¯å¢ƒç¾è§‚åº¦ï¼Œæ‰“é€ æˆä¸ºè‰ºæœ¯å•†ä¸šèåˆçš„æ–‡åˆ›è¡—åŒºã€‚"
                    ],
                    redevelopmentOptions: [
                        {
                            id: "archive",
                            title: "æ·±å…¥å‘å±•å•†ä¸š",
                            description: "åšå®šæœç€å»ºè®¾å•†ä¸šè¡—æ–¹å‘å‘å±•",
                            impact: {
                                culture: 40,
                                economy: 95,
                                sustainability: 50
                            }
                        },
                        {
                            id: "hotel",
                            title: "å»ºè®¾ç‰¹è‰²æ°‘å®¿",
                            description: "å‡å°‘å•†ä¸šåº—é“ºï¼Œç”¨äºå»ºè®¾å¸¦æœ‰å·¥ä¸šæ°”æ¯çš„ç‰¹è‰²æ°‘å®¿",
                            impact: {
                                culture: 70,
                                economy: 80,
                                sustainability: 70
                            }
                        },
                       
                    ]
                },
                {
                    id: 11,
                    x: 1000,
                    y: 350,
                    name: "å›­åŒºå†…é“è·¯",
                    color: "#7f8c8d",
                    year: "1954å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "æ˜¯å¸¦æœ‰å·¥ä¸šæ ‡è¯­å£ç”»çš„å»ºç­‘é€šé“ï¼Œå¢™é¢æ–‘é©³ï¼Œå•†ä¸šå¸ƒç½®ç®€å•ï¼Œè™½æœ‰å·¥ä¸šå†å²ç—•è¿¹ï¼Œä½†æ•´ä½“æ°›å›´åå‘è€æ—§ï¼Œå•†ä¸šæ´»åŠ›ä¸è¶³ã€‚",
                        image: "imagesss/å›­åŒºå†…è¿è¾“é“è·¯æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "æˆä¸ºå…·æœ‰æ½®æµæ´»åŠ›çš„æ»‘æ¿åœºåŒºåŸŸï¼Œå‘¨è¾¹æ˜¯ç°ä»£é£æ ¼çš„å•†ä¸šå»ºç­‘ä¸é«˜æ¥¼ï¼Œæ»‘æ¿åœºçš„æ¶‚é¸¦è‰ºæœ¯å……æ»¡åˆ›æ„ï¼Œä»è€æ—§çš„å·¥ä¸šé€šé“åŒºåŸŸè½¬å˜ä¸ºæ½®æµè¿åŠ¨ä¸ç°ä»£å•†ä¸šèåˆçš„å…¬å…±ç©ºé—´ã€‚",
                        image: "imagesss/å›­åŒºå†…è¿è¾“é“è·¯æ”¹é€ å.jpg"
                    },
                    facts: [
                        "å¯¹åŒºåŸŸè¿›è¡ŒåŠŸèƒ½ä¸é£æ ¼çš„å½»åº•è½¬å˜ï¼Œå¼•å…¥æ½®æµè¿åŠ¨è®¾æ–½ï¼ˆæ»‘æ¿åœºï¼‰ï¼Œç»“åˆç°ä»£å•†ä¸šå»ºç­‘å¼€å‘ï¼Œé€šè¿‡æ¶‚é¸¦è‰ºæœ¯å¼ºåŒ–æ½®æµæ°›å›´ï¼Œæ‰“é€ æˆä¸ºæ½®æµè¿åŠ¨ä¸ç°ä»£å•†ä¸šçš„å…¬å…±ç©ºé—´ã€‚"
                    ],
                    redevelopmentOptions: [
                        {
                            id: "hostel",
                            title: "å»ºè®¾æ›´å¤šæ´»åŠ¨å™¨æå’Œè®¾æ–½",
                            description: "å»ºè®¾æ›´å¤šäººä»¬å–œçˆ±çš„å»ºè®¾æ´»åŠ¨å™¨æè®¾æ–½å’Œåœºåœ°ï¼Œå¹¶å¸¦æœ‰å·¥ä¸šæ°”æ¯",
                            impact: {
                                culture: 60,
                                economy: 50,
                                sustainability: 75
                            }
                        },
                        {
                            id: "community",
                            title: "å‘å±•å•†ä¸š",
                            description: "åœ¨è¿™ç‰‡åœ°åŒºå‘å±•å•†ä¸šï¼Œè€Œéå•çº¯çš„æ¸¸å®¢æ´»åŠ¨åœºåœ°",
                            impact: {
                                culture: 50,
                                economy: 80,
                                sustainability: 60
                            }
                        },
                       
                    ]
                },
                {
                    id: 12,
                    x: 250,
                    y: 520,
                    name: "ä¸­å¤®å¤§é“",
                    color: "#e74c3c",
                    year: "1957å¹´",
                    before: {
                        title: "æ”¹é€ å‰",
                        description: "ç‹­çª„çš„é“è·¯ï¼Œå­¤ç«‹çš„å·¥ä¸šç½ä½“è®¾æ–½ï¼Œå‘¨è¾¹ç¯å¢ƒæ™®é€šï¼Œä»…ä½œä¸ºå·¥ä¸šé—äº§ç•™å­˜ï¼Œç¼ºä¹ä¸å‘¨è¾¹ç¯å¢ƒçš„äº’åŠ¨å’Œå•†ä¸šäººæ–‡ä»·å€¼ã€‚",
                        image: "imagesss/ä¸­å¤®å¤§é“æ”¹é€ å‰.jpg"
                    },
                    after: {
                        title: "æ”¹é€ å",
                        description: "æˆä¸ºçƒ­é—¹çš„æ–‡åˆ›å›­åŒºå…¥å£ï¼Œä¿ç•™äº†å·¥ä¸šç½ä½“å…ƒç´ ï¼Œæ·»åŠ äº†å¤§å‹è‰ºæœ¯å®£ä¼ ç‰Œå’Œå¯†é›†çš„äººæµï¼Œå‘¨è¾¹æ˜¯ç°ä»£å•†ä¸šå»ºç­‘ä¸ç»¿æ¤æ™¯è§‚ï¼Œä»å­¤ç«‹çš„å·¥ä¸šç½ä½“åŒºåŸŸè½¬å˜ä¸ºå……æ»¡å•†ä¸šæ´»åŠ›ä¸äººæ–‡æ°”æ¯çš„æ–‡åˆ›å›­åŒºä¸­å¤®å¤§é“ã€‚",
                        image: "imagesss/ä¸­å¤®å¤§é“æ”¹é€ å.jpg"
                    },
                    facts: [
                        "å¯¹å·¥ä¸šç½ä½“åŒºåŸŸè¿›è¡Œåœºæ™¯ä¸åŠŸèƒ½å‡çº§ï¼Œç»“åˆæ–‡åˆ›å›­åŒºçš„æ•´ä½“è§„åˆ’ï¼Œæ·»åŠ è‰ºæœ¯å®£ä¼ ç‰Œå’Œå•†ä¸šé…å¥—ï¼Œé€šè¿‡äººæµå¯¼å…¥æå‡åŒºåŸŸæ´»åŠ›ï¼Œæ‰“é€ æˆä¸ºæ–‡åˆ›å›­åŒºçš„æ´»åŠ›é“è·¯ã€‚" ],
                    redevelopmentOptions: [
                        {
                            id: "culture",
                            title: "å‘å±•å•†ä¸š",
                            description: "",
                            impact: {
                                culture: 50,
                                economy: 90,
                                sustainability: 65
                            }
                        },
                        {
                            id: "theater",
                            title: "å‡å°‘å»ºç­‘ï¼Œæ‹“å®½é“è·¯",
                            description: "",
                            impact: {
                                culture: 75,
                                economy: 55,
                                sustainability: 80
                            }
                        },
                    
                    ]
                }
            ];
            
            // NPCæ•°æ®ï¼ˆ8ä¸ªï¼‰
            const npcsData = [
                {
                    id: 1,
                    x: 450,
                    y: 200,
                    name: "æå·¥ç¨‹å¸ˆ",
                    avatar: "ğŸ‘·",
                    role: "é€€ä¼‘å·¥ç¨‹å¸ˆ",
                    location: "è¿è¾“è½¨é“é™„è¿‘",
                    dialogs: {
                        initial: "ä½ å¥½å•Šï¼æˆ‘æ›¾æ˜¯è¿™å®¶å·¥å‚çš„æ€»å·¥ç¨‹å¸ˆï¼Œåœ¨è¿™é‡Œå·¥ä½œäº†40å¹´ã€‚æƒ³å¬å¬å…³äºè¿™ç‰‡å‚åŒºçš„å†å²å—ï¼Ÿ",
                        history: "ä¸œéƒŠè®°å¿†çš„å‰èº«æ˜¯æˆéƒ½å›½è¥çº¢å…‰ç”µå­ç®¡å‚ï¼Œè¿™æ˜¯ä¸€ä¸ªæ›¾ç»æ‹¥æœ‰ä¸Šä¸‡åèŒå·¥çš„å¤§å‹å›½æœ‰ä¼ä¸šã€‚ ç„¶è€Œï¼Œéšç€æ—¶ä»£çš„å˜è¿ï¼Œè¿™ä¸ªæ›¾ç»è¾‰ç…Œçš„ä¼ä¸šé€æ¸æ²¡è½ï¼Œæœ€ç»ˆäº2007å¹´åœäº§ã€‚ é¢å¯¹ç€è¿™ä¸€å·¨å¤§çš„å·¥ä¸šé—äº§ï¼Œæ”¿åºœå’Œå½“åœ°å±…æ°‘å¼€å§‹æ€è€ƒå¦‚ä½•å°†å…¶æ”¹é€ ä¸ºå…·æœ‰ç°ä»£è‰ºæœ¯æ°”æ¯çš„å…¬å›­ã€‚ 2009å¹´ï¼Œä¸œéƒŠè®°å¿†é¡¹ç›®æ­£å¼å¯åŠ¨ã€‚ é€šè¿‡æ”¿åºœå¼•å¯¼ï¼Œç¤¾ä¼šå‚ä¸ï¼Œæ–‡åŒ–èåˆç­‰å¤šç§æ‰‹æ®µï¼Œè¿™ä¸ªè€æ—§çš„å·¥ä¸šé—äº§é€æ¸ç„•å‘å‡ºæ–°çš„ç”Ÿæœºã€‚",
                        tech: "â€œä¿®æ—§å¦‚æ—§ï¼Œæ—§æˆ¿æ–°ç”¨â€æ˜¯ä¸œéƒŠè®°å¿†å»ºç­‘çš„ä¸»è¦ç‰¹è‰²ï¼Œå®ƒç»“åˆäº†è®¡åˆ’ç»æµæ—¶ä»£å·¥ä¸šç¾å­¦ä¸ç°ä»£å•†ä¸šå»ºç­‘åŠŸèƒ½ï¼Œå…¼å®¹å¹¶è“„äº†20ä¸–çºª50å¹´ä»£è‹è”æ´å»ºçš„åŠå…¬æ¥¼ã€21ä¸–çºªåˆçš„åŠå…¬æ¥¼ã€å¤šå±‚å‚æˆ¿å’Œå·¥ä¸šæ„Ÿåè¶³çš„çƒŸå›±ç®¡é“ï¼Œè¥é€ äº†ä¸œéƒŠè®°å¿†å…¼å…·æ€€æ—§å’Œæ—¶å°šæ°”æ¯çš„è‰ºæœ¯æ°›å›´ã€‚",
                        future: "æˆ‘å¸Œæœ›è¿™é‡Œæ—¢èƒ½ä¿ç•™æˆ‘ä»¬è¿™ä»£äººçš„è®°å¿†ï¼Œåˆèƒ½æˆä¸ºå¹´è½»äººå–œæ¬¢çš„åœ°æ–¹ã€‚å·¥ä¸šé—äº§ä¸æ˜¯è´Ÿæ‹…ï¼Œè€Œæ˜¯è´¢å¯Œã€‚çœ‹åˆ°å¹´è½»äººæ¥è¿™é‡Œåˆ›æ–°ã€åˆ›ä¸šï¼Œæˆ‘è§‰å¾—ç‰¹åˆ«æ¬£æ…°ã€‚",
                        glory: "è¯ç”Ÿäº†æ–°ä¸­å›½ç¬¬ä¸€æ”¯é»‘ç™½æ˜¾åƒç®¡ã€ç¬¬ä¸€æ”¯æœ‰ç”µå­å·¥ä¸šâ€œåŸå­å¼¹â€ä¹‹ç§°çš„å½©è‰²æ˜¾åƒç®¡ã€ç¬¬ä¸€æ”¯æŠ•å½±æ˜¾åƒç®¡",
                        decline: "çº¢å…‰å‚äºæŸä¸¥é‡ï¼ŒåŠ ä¹‹è®¾å¤‡è€æ—§ã€ç®¡ç†ä¸å½“ï¼Œè‡ª1998å¹´èµ·å…¬å¸çš„ç”Ÿäº§çº¿ç›¸ç»§åœå·¥åœäº§ã€‚ æ–°ä¸–çºªåï¼Œç»è¿‡å‡ æ¬¡è½¬è®©ã€æ›´ååï¼Œçº¢å…‰å‚å·²ç»ä¸å¤å­˜åœ¨ã€‚",
                        preserve: "21ä¸–çºªåˆ,æˆéƒ½å¸‚æ”¿åºœå®æ–½å¼€å±•â€œä¸œè°ƒâ€æˆ˜ç•¥å·¥ç¨‹,å¯¹æˆéƒ½ä¸œéƒŠè€å·¥ä¸šåŒºå†…çš„ä¼ä¸šå®æ–½æ¬è¿,çº¢å…‰å‚ä½œä¸ºå·¥ä¸šé—å€å®Œæ•´ä¿ç•™,è¢«ç¡®å®šä¸ºæ–‡åŒ–åˆ›æ„äº§ä¸šå›­åŒº,ç”±æˆéƒ½ä¼ åª’é›†å›¢æŠ•èµ„æ‰“é€ ã€‚ è¿™äº›å»ºç­‘æ•´ä½“è™½ç„¶ç»è¿‡äº†ç»´ä¿®,ä½†åŸºæœ¬ä¿å­˜äº†å½“æ—¶çš„é£è²Œã€‚ ",
                        apply: "æ¸¸å®¢å¯ä»¥ æ¼«æ­¥åœ¨çº¢ç –å¢™ä¸‹ï¼Œæ„Ÿå—å·¥ä¸šæ—¶ä»£çš„ç²—ç²è´¨æ„Ÿå’ŒåŠ›é‡ç¾å­¦ã€‚ä½“éªŒâ€œå·¥ä¸š+ç”Ÿæ´»â€çš„ç‹¬ç‰¹æ°›å›´ã€‚å¤å¤ç”µè§†å…¥å£ï¼Œç»¿çš®è½¦å¢å’–å•¡é¦†ï¼Œå·¥ä¸šé£é…’å§ç­‰ï¼Œæ„å»ºäº†æ²‰æµ¸å¼æ€€æ—§ä½“éªŒã€‚ä½ ä¹Ÿå°±å¯ä»¥æ¥æ„Ÿå—è¿™é‡Œç‹¬ç‰¹çš„æ°›å›´ã€‚",
                        advice: "æ”¹é€ ä¸èƒ½åªè¿½æ±‚ç»æµæ•ˆç›Šï¼Œè¦å°Šé‡å†å²ï¼Œä¿ç•™å·¥ä¸šé—äº§çš„çœŸå®æ€§ã€‚å¯ä»¥åœ¨ä¿æŠ¤çš„åŸºç¡€ä¸Šåˆ›æ–°åˆ©ç”¨ï¼Œä½†ä¸èƒ½ä¸ºäº†å•†ä¸šåˆ©ç›Šç ´åå†å²ä»·å€¼ã€‚",
                    },
                    choices: {
                        initial: [
                            {id: "history", text: "æƒ³äº†è§£è¿™é‡Œçš„å†å²"},
                            {id: "tech", text: "è¿™é‡Œå»ºç­‘æœ‰ä»€ä¹ˆç‰¹è‰²å—ï¼Ÿ"},
                            {id: "future", text: "æ‚¨å¯¹è¿™é‡Œçš„æœªæ¥æœ‰ä»€ä¹ˆæœŸæœ›ï¼Ÿ"}
                        ],
                        history: [
                            {id: "glory", text: "å½“æ—¶æœ€è¾‰ç…Œçš„æˆå°±æ˜¯ä»€ä¹ˆï¼Ÿ"},
                            {id: "decline", text: "åæ¥ä¸ºä»€ä¹ˆè¡°è½äº†ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        tech: [
                            {id: "preserve", text: "è¿™äº›å»ºç­‘ä¿ç•™ä¸‹æ¥äº†å—ï¼Ÿ"},
                            {id: "apply", text: "è¿™äº›ç‰¹è‰²å»ºç­‘å¯¹ç°åœ¨è½¬å‹æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        future: [
                            {id: "advice", text: "æ‚¨å¯¹æ”¹é€ æœ‰ä»€ä¹ˆå»ºè®®ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ]
                    }
                },
                {
                    id: 2,
                    x: 750,
                    y: 220,
                    name: "å¼ å‚é•¿",
                    avatar: "ğŸ‘”",
                    role: "åŸå·¥å‚å‚é•¿",
                    location: "å‚éƒ¨åŠå…¬æ¥¼å‰",
                    dialogs: {
                        initial: "å¹´è½»äººï¼Œæ¬¢è¿ä½ æ¥å‚è§‚ï¼æˆ‘æ˜¯è¿™å®¶å·¥å‚çš„æœ€åä¸€ä»»å‚é•¿ï¼Œäº²çœ¼è§è¯äº†å®ƒçš„å…´è¡°ã€‚æœ‰ä»€ä¹ˆæƒ³çŸ¥é“çš„å—ï¼Ÿ",
                        management: "è®¡åˆ’ç»æµæ—¶æœŸï¼Œæˆ‘ä»¬çš„ç”Ÿäº§æ˜¯æŒ‰å›½å®¶è®¡åˆ’è¿›è¡Œçš„ï¼Œä¸æ„é”€è·¯ï¼Œä½†ä¹Ÿç¼ºä¹æ´»åŠ›ã€‚æ”¹é©å¼€æ”¾åï¼Œæˆ‘ä»¬å°è¯•è¿‡å¸‚åœºåŒ–æ”¹é©ï¼Œä½†ç§¯é‡éš¾è¿”ï¼Œæœ€ç»ˆè¿˜æ˜¯æ²¡èƒ½æŒ½æ•‘å·¥å‚ã€‚",
                        workers: "æˆ‘ä»¬å‚çš„å·¥äººéƒ½æ˜¯å¥½æ ·çš„ï¼ŒæŠ€æœ¯è¿‡ç¡¬ï¼Œè´£ä»»å¿ƒå¼ºã€‚å¾ˆå¤šäººç¥–å­™ä¸‰ä»£éƒ½åœ¨å‚é‡Œå·¥ä½œï¼Œå¯¹å·¥å‚æœ‰æ·±åšçš„æ„Ÿæƒ…ã€‚åœäº§æ—¶ï¼Œå¾ˆå¤šè€å·¥äººéƒ½å“­äº†ã€‚",
                        transformation: " 2021å¹´ï¼Œæˆéƒ½ä¼ åª’é›†å›¢è½¬æ¢å›­åŒºè¿è¥æœºåˆ¶ï¼ŒåŸºäºå·¥ä¸šé—å­˜ç©ºé—´è½½ä½“ï¼Œå…¨é¢æ¨è¿›ä¸œéƒŠè®°å¿†æ•´ä½“ä¸šæ€åˆ›æ–°å’Œæ¶ˆè´¹åœºæ™¯å‡çº§å‘å±•ï¼Œæ‰“é€ äº†20ä½™ä¸ªåŠŸèƒ½å„å…·çš„å±•æ¼”åœºé¦†ï¼Œæ¯å¹´å‘ˆç°ä¸Šåƒåœºæ–‡åŒ–æ´»åŠ¨ï¼Œå½¢æˆç‹¬å…·ç‰¹è‰²çš„å¤©åºœæ–‡åŒ–å±•é¦†èšè½ï¼Œ2024å¹´è¥æ”¶è¶…14äº¿å…ƒã€‚ ",
                        difficulty: "æœ€å¤§çš„å›°éš¾æ˜¯è§‚å¿µè½¬å˜ï¼Œå¾ˆå¤šäººè®¤ä¸ºè¿™äº›è€å‚æˆ¿æ²¡ç”¨äº†ï¼Œä¸å¦‚æ‹†äº†ç›–å•†å“æˆ¿ã€‚ä½†æˆ‘å§‹ç»ˆè§‰å¾—ï¼Œè¿™äº›ä¸ä»…æ˜¯å‚æˆ¿ï¼Œæ›´æ˜¯æˆ‘ä»¬å·¥ä¸šæ–‡æ˜çš„è§è¯ã€‚",
                        policy: "å›½å®¶çš„äº§ä¸šæ”¿ç­–å¯¹å·¥å‚å½±å“å¾ˆå¤§ï¼Œ1953å¹´å¼€å§‹ï¼Œæˆéƒ½è¢«é€‰å®šä¸ºå…¨å›½ç”µå­å·¥ä¸šå»ºè®¾åœ°ï¼Œ åœ¨è‹è”æ´å»ºä¸­å›½çš„156é¡¹é‡ç‚¹å·¥ç¨‹ä¸­ï¼Œå››ä¸ªç”µå­å·¥ä¸šé¡¹ç›®åœ¨æˆéƒ½å…´å»ºï¼Œçº¢å…‰ç”µå­ç®¡å‚å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚ ",
                        emotion: "å¯¹æˆ‘æ¥è¯´ï¼Œè¿™é‡Œä¸ä»…æ˜¯å·¥ä½œçš„åœ°æ–¹ï¼Œæ›´æ˜¯æˆ‘çš„ç¬¬äºŒæ•…ä¹¡ã€‚æˆ‘åœ¨è¿™é‡Œå·¥ä½œäº†38å¹´ï¼Œäººç”Ÿæœ€ç¾å¥½çš„æ—¶å…‰éƒ½åœ¨è¿™é‡Œã€‚çœ‹åˆ°ç°åœ¨çš„å˜åŒ–ï¼Œæ—¢æ¬£æ…°åˆæœ‰ç‚¹èˆä¸å¾—ã€‚",
		     future:"ç„å‡†äº”å¤§ç»†åˆ†èµ›é“ å½¢æˆç‰¹è‰²æ–‡åˆ›äº§ä¸šé›†ç¾¤ ä¸œéƒŠè®°å¿†Â·æˆéƒ½å›½é™…æ—¶å°šäº§ä¸šå›­å’Œå®Œç¾æ–‡åˆ›å…¬å›­æ‰€åœ¨çš„ä¸œéƒŠè®°å¿†è‰ºæœ¯åŒºï¼Œæ˜¯å…¨å¸‚æ–‡åˆ›äº§ä¸šé“¾çš„ä¸»è¦æ‰¿è½½åœ°ä¹‹ä¸€ã€‚"
                    },
                    choices: {
                        initial: [
                            {id: "management", text: "å·¥å‚çš„ç®¡ç†æ¨¡å¼æ˜¯æ€æ ·çš„ï¼Ÿ"},
                            {id: "workers", text: "è¿™é‡Œçš„å·¥äººæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ"},
                            {id: "transformation", text: "å·¥å‚æ˜¯å¦‚ä½•è½¬å‹çš„ï¼Ÿ"}
                        ],
                        management: [
                            {id: "policy", text: "å›½å®¶æ”¿ç­–å¯¹å·¥å‚æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        workers: [
                            {id: "emotion", text: "æ‚¨å¯¹å·¥å‚æœ‰ä»€ä¹ˆæ„Ÿæƒ…ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        transformation: [
                            {id: "future", text: "æ‚¨å¯¹è¿™é‡Œçš„æœªæ¥æœ‰ä»€ä¹ˆæœŸå¾…ï¼Ÿ"},
                            {id: "advice", text: "å¯¹ç°åœ¨çš„æ”¹é€ æœ‰ä»€ä¹ˆå»ºè®®ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ]
                    }
                },
                {
                    id: 3,
                    x: 300,
                    y: 300,
                    name: "ç‹å¸ˆå‚…",
                    avatar: "ğŸ”§",
                    role: "é€€ä¼‘æŠ€æœ¯å·¥äºº",
                    location: "é”»é€ è½¦é—´æ—",
                    dialogs: {
                        initial: "å°ä¼™å­/å°å§‘å¨˜ï¼Œæ¥çœ‹è¿™äº›è€ä¼™è®¡å•¦ï¼Ÿæˆ‘æ˜¯è¿™å„¿çš„è€é”»å·¥ï¼Œè·Ÿè¿™äº›å¤§å®¶ä¼™æ‰“äº†ä¸€è¾ˆå­äº¤é“ã€‚æƒ³æ‘¸æ‘¸çœ‹å—ï¼Ÿ",
                        work: "é”»é€ æ˜¯ä¸ªåŠ›æ°”æ´»ï¼Œä¹Ÿæ˜¯ä¸ªæŠ€æœ¯æ´»ã€‚ä¸€å—çƒ§çº¢çš„é’¢å¯ï¼Œåœ¨æˆ‘ä»¬æ‰‹é‡Œèƒ½å˜æˆå„ç§å½¢çŠ¶ã€‚å¹´è½»æ—¶æˆ‘èƒ½è¿ç»­æŠ¡é”¤8å°æ—¶ï¼Œç°åœ¨ä¸è¡Œå•¦ï¼Œè€èƒ³è†Šè€è…¿çš„ã€‚",
                        tools: "ä½ çœ‹è¿™å°è€é”»é”¤ï¼Œæœ‰5000å¨å‹åŠ›ï¼Œæ˜¯1958å¹´ä»è‹è”è¿›å£çš„ï¼Œå½“æ—¶å…¨å›½ä¹Ÿæ²¡å‡ å°ã€‚åˆ«çœ‹å®ƒè€ï¼Œç²¾åº¦å¯ä¸å·®ï¼Œç°åœ¨è¿˜èƒ½ç”¨å‘¢ï¼",
                        safety: "ä»¥å‰å¹²æ´»å¯æ²¡ç°åœ¨è¿™ä¹ˆå¤šå®‰å…¨ä¿æŠ¤ï¼Œçƒ«ä¼¤ã€ç ¸ä¼¤æ˜¯å¸¸æœ‰çš„äº‹ã€‚ä½†æ²¡äººå«è‹¦ï¼Œå¤§å®¶éƒ½æƒ³ç€å¤šå¹²æ´»ï¼Œä¸ºå›½å®¶åšè´¡çŒ®ã€‚",
                        pride: "æœ€è®©æˆ‘è‡ªè±ªçš„æ˜¯ï¼Œæˆ‘å‚ä¸ç”Ÿäº§è¿‡å¾ˆå¤šé›¶éƒ¨ä»¶åŒ…æ‹¬å„å†›ç§ä½¿ç”¨çš„æ ¸å¿ƒå¾®æ³¢å™¨ä»¶ï¼Œä¸»è¦ç”¨äºé›·è¾¾å’Œèˆªç©ºèˆªå¤©é€šä¿¡ä¸­ï¼Œç”¨è‡ªå·±çš„åŒæ‰‹ä¸ºç¥–å›½åˆ›é€ ä»·å€¼ã€‚ ",
                        training: "æˆ‘ä»¬é‚£æ—¶å€™å­¦æŠ€æœ¯ï¼Œå…¨é å¸ˆå‚…å¸¦å¾’å¼Ÿï¼Œæ‰‹æŠŠæ‰‹æ•™ã€‚ä¸‰å¹´å­¦å¾’ï¼Œäº”å¹´å‡ºå¸ˆï¼Œæ²¡æœ‰æ·å¾„å¯èµ°ã€‚ç°åœ¨çš„å¹´è½»äººç”¨ç”µè„‘è®¾è®¡ï¼Œè·Ÿæˆ‘ä»¬é‚£æ—¶å€™ä¸ä¸€æ ·å–½ã€‚",
		     hard: "è™½ç„¶å·¥ä½œç¡®å®ä¸å®¹æ˜“ï¼Œä½†æ˜¯æˆ‘ä»¬é‚£æ—¶å€™å§‹ç»ˆå› ä¸ºæœ‰è¿™æ ·ä¸€ä¸ªå·¥ä½œè€Œè‡ªè±ªã€‚ "
                    },
                    choices: {
                        initial: [
                            {id: "work", text: "æ‚¨ä»¥å‰æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ"},
                            {id: "tools", text: "è¿™äº›è®¾å¤‡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼Ÿ"},
                            {id: "safety", text: "ä»¥å‰å·¥ä½œå®‰å…¨å—ï¼Ÿ"}
                        ],
                        work: [
                            {id: "pride", text: "æ‚¨æœ€è‡ªè±ªçš„æˆå°±æ˜¯ä»€ä¹ˆï¼Ÿ"},
                            {id: "hard", text: "å·¥ä½œå¾ˆè¾›è‹¦å§ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        tools: [
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        safety: [
                            {id: "training", text: "æ‚¨æ˜¯æ€ä¹ˆå­¦ä¼šè¿™äº›æŠ€æœ¯çš„ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ]
                    }
                },
                {
                    id: 4,
                    x: 600,
                    y: 400,
                    name: "åˆ˜æ•™æˆ",
                    avatar: "ğŸ“",
                    role: "å·¥ä¸šé—äº§ç ”ç©¶ä¸“å®¶",
                    location: "ä¸­å¤®å¹¿åœº",
                    dialogs: {
                        initial: "ä½ å¥½ï¼æˆ‘æ˜¯ç ”ç©¶å·¥ä¸šé—äº§ä¿æŠ¤çš„å­¦è€…ï¼Œæ­£åœ¨è¿™é‡Œåšè°ƒç ”ã€‚å·¥ä¸šé—äº§ä¸ä»…æ˜¯è€å‚æˆ¿ï¼Œæ›´æ˜¯æˆ‘ä»¬æ°‘æ—å·¥ä¸šè®°å¿†çš„è½½ä½“ï¼Œå¾ˆæœ‰ä»·å€¼å§ï¼Ÿ",
                        value: "å·¥ä¸šé—äº§çš„ä»·å€¼ä½“ç°åœ¨å¤šä¸ªæ–¹é¢ï¼šå†å²ä»·å€¼ã€æŠ€æœ¯ä»·å€¼ã€ç¤¾ä¼šä»·å€¼ã€è‰ºæœ¯ä»·å€¼å’Œç»æµä»·å€¼ã€‚ä¿æŠ¤å®ƒä»¬ï¼Œå°±æ˜¯ä¿æŠ¤æˆ‘ä»¬çš„å·¥ä¸šè®°å¿†å’Œæ–‡åŒ–èº«ä»½ã€‚",
                        method: "ä¿æŠ¤ä¸æ˜¯ç®€å•çš„å†»ç»“ä¿å­˜ï¼Œè€Œæ˜¯è¦åœ¨å°Šé‡å†å²çš„åŸºç¡€ä¸Šè¿›è¡Œåˆç†åˆ©ç”¨ã€‚å¯ä»¥é€šè¿‡é€‚åº”æ€§å†åˆ©ç”¨ã€åŠŸèƒ½ç½®æ¢ç­‰æ–¹å¼ï¼Œè®©è€å»ºç­‘ç„•å‘æ–°ç”Ÿã€‚",
                        significance: "è¾½å®ä½œä¸ºè€å·¥ä¸šåŸºåœ°ï¼Œå·¥ä¸šé—äº§èµ„æºä¸°å¯Œï¼Œä¿æŠ¤è¿™äº›é—äº§å¯¹ä¼ æ‰¿å·¥ä¸šç²¾ç¥ã€ä¿ƒè¿›åŸå¸‚æ›´æ–°ã€å‘å±•æ–‡åŒ–äº§ä¸šéƒ½æœ‰é‡è¦æ„ä¹‰ã€‚",
                        challenge: "æœ€å¤§çš„æŒ‘æˆ˜æ˜¯å¹³è¡¡ä¿æŠ¤ä¸å¼€å‘çš„å…³ç³»ï¼Œé¿å…è¿‡åº¦å•†ä¸šåŒ–ç ´åé—äº§ä»·å€¼ï¼Œä¹Ÿè¦é˜²æ­¢çº¯ç²¹å†»ç»“å¯¼è‡´çš„èµ„æºé—²ç½®ã€‚",
                        case: "å›½é™…ä¸Šæœ‰å¾ˆå¤šæˆåŠŸæ¡ˆä¾‹ï¼Œæ¯”å¦‚å¾·å›½é²å°”åŒºçš„è½¬å‹ã€ç¾å›½åŒ¹å…¹å ¡çš„å¤å…´ï¼Œä»–ä»¬çš„ç»éªŒå€¼å¾—æˆ‘ä»¬å€Ÿé‰´ï¼Œä½†ä¹Ÿè¦ç»“åˆä¸­å›½å›½æƒ…ã€‚"
                    },
                    choices: {
                        initial: [
                            {id: "value", text: "å·¥ä¸šé—äº§æœ‰ä»€ä¹ˆä»·å€¼ï¼Ÿ"},
                            {id: "method", text: "åº”è¯¥å¦‚ä½•ä¿æŠ¤å·¥ä¸šé—äº§ï¼Ÿ"},
                            {id: "significance", text: "ä¿æŠ¤å·¥ä¸šé—äº§æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ"}
                        ],
                        value: [
                            {id: "compare", text: "å’Œå…¶ä»–é—äº§ç›¸æ¯”æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"},
                            {id: "example", text: "èƒ½ä¸¾ä¸ªå…·ä½“ä¾‹å­å—ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        method: [
                            {id: "challenge", text: "ä¿æŠ¤å·¥ä½œé¢ä¸´ä»€ä¹ˆæŒ‘æˆ˜ï¼Ÿ"},
                            {id: "principle", text: "ä¿æŠ¤æœ‰ä»€ä¹ˆåŸåˆ™å—ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        significance: [
                            {id: "case", text: "æœ‰ä»€ä¹ˆæˆåŠŸæ¡ˆä¾‹å—ï¼Ÿ"},
                            {id: "future", text: "æœªæ¥å‘å±•æ–¹å‘æ˜¯ä»€ä¹ˆï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ]
                    }
                },
                {
                    id: 5,
                    x: 850,
                    y: 500,
                    name: "é™ˆè®¾è®¡å¸ˆ",
                    avatar: "ğŸ¨",
                    role: "é—äº§æ”¹é€ è®¾è®¡å¸ˆ",
                    location: "å®¿èˆåŒºé™„è¿‘",
                    dialogs: {
                        initial: "ä½ å¥½ï¼æˆ‘æ˜¯è´Ÿè´£è¿™ç‰‡å‚åŒºæ”¹é€ è®¾è®¡çš„å»ºç­‘å¸ˆã€‚æˆ‘ä»¬çš„è®¾è®¡ç†å¿µæ˜¯'å°Šé‡å†å²ã€é¢å‘æœªæ¥'ï¼Œæ—¢è¦ä¿ç•™å·¥ä¸šç‰¹è‰²ï¼Œåˆè¦æ»¡è¶³ç°ä»£åŠŸèƒ½éœ€æ±‚ã€‚",
                        concept: "æˆ‘çš„è®¾è®¡ç†å¿µæ˜¯'æœ€å°‘å¹²é¢„'ï¼Œå°½é‡ä¿ç•™å»ºç­‘çš„åŸæœ‰ç»“æ„å’Œç‰¹è‰²å…ƒç´ ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œå¿…è¦çš„æ”¹é€ ã€‚æ¯”å¦‚é‚£ä¸ªè€æ°´å¡”ï¼Œæˆ‘ä»¬ä¿ç•™äº†å¤–è§‚ï¼Œå†…éƒ¨æ”¹é€ æˆäº†è§‚æ™¯å°ã€‚",
                        challenge: "æœ€å¤§çš„æŒ‘æˆ˜æ˜¯å¦‚ä½•åœ¨æ»¡è¶³ç°ä»£å®‰å…¨æ ‡å‡†å’ŒåŠŸèƒ½éœ€æ±‚çš„åŒæ—¶ï¼Œä¿ç•™å†å²é£è²Œã€‚å¾ˆå¤šè€å»ºç­‘ä¸ç¬¦åˆç°åœ¨çš„æ¶ˆé˜²è§„èŒƒï¼Œéœ€è¦å·§å¦™çš„æ”¹é€ ã€‚",
                        material: "æˆ‘ä»¬å°½é‡ä½¿ç”¨åŸæœ‰ææ–™è¿›è¡Œä¿®å¤ï¼Œæ¯”å¦‚è½¦é—´çš„æœ¨åœ°æ¿ï¼Œèƒ½ç”¨çš„éƒ½ä¿ç•™äº†ï¼Œå®åœ¨ä¸èƒ½ç”¨çš„ä¹Ÿå°½é‡æ‰¾ç›¸åŒæè´¨çš„æ›¿ä»£å“ï¼Œä¿æŒå†å²çš„çœŸå®æ€§ã€‚",
                        function: "åŠŸèƒ½ç½®æ¢æ˜¯å…³é”®ï¼Œè¦æ ¹æ®å»ºç­‘ç‰¹ç‚¹èµ‹äºˆæ–°çš„ç”¨é€”ã€‚æ¯”å¦‚é«˜å¤§çš„å‚æˆ¿é€‚åˆåšå±•è§ˆç©ºé—´ï¼ŒåŠå…¬æ¥¼é€‚åˆåšé…’åº—æˆ–åŠå…¬ï¼Œå®¿èˆé€‚åˆåšæ°‘å®¿ã€‚",
                        balance: "æœ€éš¾çš„æ˜¯å¹³è¡¡å„æ–¹åˆ©ç›Šï¼Œæ”¿åºœã€å¼€å‘å•†ã€ç¤¾åŒºå±…æ°‘ã€å†å²ä¿æŠ¤è€…éƒ½æœ‰ä¸åŒçš„è¯‰æ±‚ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ç‚¹ã€‚",
                        sustain: "å·¥ä¸šé—äº§æ”¹é€ çš„è®¾è®¡ç†å¿µèå…¥å¯æŒç»­æ€§åŸåˆ™æ˜¯ä¸€ä¸ªç»¼åˆæ€§çš„ç³»ç»Ÿå·¥ç¨‹ï¼Œéœ€è¦è®¾è®¡å¸ˆåœ¨å°Šé‡å†å²æ–‡åŒ–ã€æ³¨é‡ç¯å¢ƒä¿æŠ¤ã€ç«‹è¶³æœªæ¥å‘å±•ç­‰å¤šæ–¹é¢è¿›è¡Œç»¼åˆè€ƒé‡ã€‚", 
		     inspiration: "ä¸ä»…å…³æ³¨ç‰©ç†ç©ºé—´çš„æ”¹é€ ç­–ç•¥ï¼Œæ›´è¯•å›¾æ­ç¤ºè¿™ä¸€è¿‡ç¨‹å¦‚ä½•é‡å¡‘åŸå¸‚æ–‡åŒ–èº«ä»½ã€æ¿€æ´»åœ°æ–¹ç»æµï¼Œå¹¶å›åº”â€œè®°å¿†ä¿æŠ¤â€ä¸â€œåˆ›æ–°å‘å±•â€çš„è¾©è¯å…³ç³»ã€‚ æœ€ç»ˆï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ºåŸå¸‚æ›´æ–°æä¾›ä¸€æ¡å¯æŒç»­è·¯å¾„ï¼šè®©å·¥ä¸šé—äº§ä¸å†æ˜¯å‡å›ºçš„çºªå¿µç¢‘ï¼Œè€Œæ˜¯æŒç»­ç”Ÿé•¿çš„æ–‡åŒ–ç”Ÿå‘½ä½“ã€‚"
                    },
                    choices: {
                        initial: [
                            {id: "concept", text: "æ‚¨çš„è®¾è®¡ç†å¿µæ˜¯ä»€ä¹ˆï¼Ÿ"},
                            {id: "challenge", text: "è®¾è®¡ä¸­é‡åˆ°çš„æœ€å¤§æŒ‘æˆ˜æ˜¯ä»€ä¹ˆï¼Ÿ"},
                            {id: "material", text: "æ”¹é€ ç”¨äº†ä»€ä¹ˆææ–™ï¼Ÿ"}
                        ],
                        concept: [
                            {id: "inspiration", text: "æ‚¨åœ¨è¿™é‡Œæœ‰ä»€ä¹ˆå¯å‘å‘¢ï¼Ÿ"},
                            {id: "function", text: "å¦‚ä½•è€ƒè™‘æ–°çš„åŠŸèƒ½ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        challenge: [
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        material: [
                            {id: "balance", text: "å¦‚ä½•å¹³è¡¡ä¿æŠ¤ä¸åˆ›æ–°ï¼Ÿ"},
                            {id: "sustain", text: "è€ƒè™‘å¯æŒç»­æ€§å—ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ]
                    }
                },
                {
                    id: 6,
                    x: 150,
                    y: 200,
                    name: "èµµé˜¿å§¨",
                    avatar: "ğŸ‘µ",
                    role: "é€€ä¼‘èŒå·¥å®¶å±",
                    location: "ç”Ÿæ´»åŒºé™„è¿‘",
                    dialogs: {
                        initial: "å“Ÿï¼Œå°æœ‹å‹æ¥çœ‹æˆ‘ä»¬è€å‚å­å•¦ï¼Ÿæˆ‘å«åˆ°è¿™é‡Œå¿«50å¹´äº†ï¼Œè€ä¼´å„¿æ˜¯è¿™å„¿çš„å·¥äººï¼Œå„¿å­ä¹Ÿæ˜¯ï¼Œæˆ‘ä»¬ä¸€å®¶éƒ½è·Ÿè¿™å‚å­æœ‰æ„Ÿæƒ…ã€‚",
                        life: "é‚£æ—¶å€™å‚é‡Œå°±åƒä¸€ä¸ªå°ç¤¾ä¼šï¼Œä»€ä¹ˆéƒ½æœ‰ï¼šé£Ÿå ‚ã€æ¾¡å ‚ã€åŒ»é™¢ã€å­¦æ ¡ã€ç”µå½±é™¢â€¦â€¦ç”Ÿæ´»è™½ç„¶ä¸å¯Œè£•ï¼Œä½†å¾ˆå……å®ï¼Œé‚»é‡Œå…³ç³»ä¹Ÿå¥½ï¼Œè°å®¶æœ‰äº‹å¤§å®¶éƒ½å¸®å¿™ã€‚",
                        children: "æˆ‘ä»¬è¿™äº›å®¶å±ä¹Ÿæ²¡é—²ç€ï¼Œç»„ç»‡äº†å®¶å±å§”å‘˜ä¼šï¼Œæå«ç”Ÿã€åšå®£ä¼ ã€ç…§é¡¾å›°éš¾èŒå·¥ã€‚å­©å­ä»¬æ”¾å­¦åå°±åœ¨å‚é‡Œçš„æ“åœºä¸Šç©ï¼Œå‚åŒºå°±æ˜¯æˆ‘ä»¬çš„å®¶ã€‚",
                        change: "å‚å­å€’é—­é‚£å‡ å¹´ï¼Œæ—¥å­çœŸéš¾ã€‚åæ¥æ”¹é€ äº†ï¼Œæ¥äº†å¾ˆå¤šå¹´è½»äººï¼Œçƒ­é—¹èµ·æ¥äº†ï¼ŒæŒºå¥½çš„ã€‚å°±æ˜¯æœ‰æ—¶å€™çœ‹ç€è¿™äº›è€åœ°æ–¹å˜äº†æ ·ï¼Œå¿ƒé‡Œæœ‰ç‚¹ä¸æ˜¯æ»‹å‘³ã€‚",
                        memory: "æ¯å¹´å‚é‡Œéƒ½æœ‰è¿åŠ¨ä¼šã€æ–‡è‰ºæ±‡æ¼”ï¼Œå¯çƒ­é—¹äº†ã€‚æˆ‘å¹´è½»æ—¶æ˜¯å®£ä¼ é˜Ÿçš„ï¼Œè¿˜åœ¨é‚£ä¸ªä¿±ä¹éƒ¨é‡Œæ¼”è¿‡èŠ‚ç›®å‘¢ã€‚ç°åœ¨æƒ³èµ·æ¥ï¼Œå°±åƒæ˜¨å¤©å‘ç”Ÿçš„ä¸€æ ·ã€‚",
                        community: "ä¿—è¯è¯´è¿œäº²ä¸å¦‚è¿‘é‚»å˜›ï¼Œå¤§å®¶çš„å…³ç³»ååˆ†èæ´½ï¼Œæ˜¯å·¥å‹ï¼Œæ›´æ˜¯äº²äººã€‚",
		     play: "é‚£ç¾¤å°å­©é‚£æ—¶å€™éƒ½ç©å¼¹ç  ã€ ä¸¢æ²™åŒ… ã€ è·³æˆ¿å­ç­‰ï¼Œç°åœ¨å›å¿†èµ·æ¥ï¼Œè¿™äº›ä¹Ÿéƒ½æ˜¯æˆ‘çš„ç«¥å¹´ã€‚",
                        expectation: "å¸Œæœ›è¿™é‡Œè¶Šæ¥è¶Šå¥½ï¼Œæ—¢è®©æˆ‘ä»¬è¿™äº›è€äººæœ‰ä¸ªå¿µæƒ³ï¼Œä¹Ÿèƒ½è®©å¹´è½»äººäº†è§£è¿‡å»çš„å†å²ï¼Œåˆ«å¿˜äº†æˆ‘ä»¬æ˜¯æ€ä¹ˆè¿‡æ¥çš„ã€‚"
                    },
                    choices: {
                        initial: [
                            {id: "life", text: "ä»¥å‰åœ¨è¿™é‡Œç”Ÿæ´»æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ"},
                            {id: "children", text: "å­©å­ä»¬åœ¨è¿™é‡Œæ€ä¹ˆç”Ÿæ´»ï¼Ÿ"},
                            {id: "change", text: "æ‚¨è§‰å¾—è¿™é‡Œå˜åŒ–å¤§å—ï¼Ÿ"}
                        ],
                        life: [
                            {id: "community", text: "é‚»é‡Œå…³ç³»æ€ä¹ˆæ ·ï¼Ÿ"},
                            {id: "memory", text: "æœ‰ä»€ä¹ˆéš¾å¿˜çš„è®°å¿†ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        children: [
                            {id: "play", text: "å­©å­ä»¬ç©ä»€ä¹ˆæ¸¸æˆï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        change: [
                            {id: "expectation", text: "æ‚¨å¯¹æœªæ¥æœ‰ä»€ä¹ˆæœŸæœ›ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ]
                    }
                },
                {
                    id: 7,
                    x: 400,
                    y: 500,
                    name: "å­™è®°è€…",
                    avatar: "ğŸ“",
                    role: "å·¥ä¸šå†å²çºªå½•ç‰‡å¯¼æ¼”",
                    location: "ä¾›æ°´ç«™å‰",
                    dialogs: {
                        initial: "ä½ å¥½ï¼æˆ‘æ­£åœ¨æ‹æ‘„ä¸€éƒ¨å…³äºä¸­å›½å·¥ä¸šå†å²çš„çºªå½•ç‰‡ï¼Œè¿™é‡Œæ˜¯é‡è¦çš„å–æ™¯åœ°ã€‚è¿™äº›è€å»ºç­‘æ‰¿è½½ç€å¤ªå¤šçš„æ•…äº‹ï¼Œå€¼å¾—è¢«è®°å½•ä¸‹æ¥ã€‚",
                        story: "æ¯ä¸ªè€å‚æˆ¿éƒ½æœ‰è‡ªå·±çš„æ•…äº‹ï¼Œæ¯å°è€è®¾å¤‡éƒ½è§è¯äº†å†å²ã€‚æˆ‘ä»¬æ­£åœ¨é‡‡è®¿ä¸€äº›è€å·¥äººï¼Œè®°å½•ä»–ä»¬çš„å›å¿†ï¼Œè¿™äº›éƒ½æ˜¯çè´µçš„å†å²èµ„æ–™ã€‚",
                        importance: "å¾ˆå¤šäººè§‰å¾—å·¥ä¸šé—äº§ä¸é‡è¦ï¼Œä¸å¦‚å¤å»ºç­‘ã€å¤é—å€æœ‰ä»·å€¼ã€‚ä½†å®é™…ä¸Šï¼Œå®ƒä»¬è®°å½•äº†æˆ‘ä»¬æ°‘æ—å·¥ä¸šåŒ–çš„å†ç¨‹ï¼Œæ˜¯ä¸å¯å†ç”Ÿçš„æ–‡åŒ–èµ„æºã€‚",
                        unusual: "æˆ‘ä»¬ç”¨é«˜æ¸…æ‘„å½±ã€3Dæ‰«æç­‰æŠ€æœ¯è®°å½•è¿™äº›é—äº§ï¼Œå»ºç«‹æ•°å­—æ¡£æ¡ˆï¼Œå³ä½¿å°†æ¥æœ‰ä»€ä¹ˆå˜åŒ–ï¼Œä¹Ÿèƒ½ç•™ä¸‹å®Œæ•´çš„è®°å½•ã€‚",
record: "æˆ‘ä»¬ç”¨é«˜æ¸…æ‘„å½±ã€3Dæ‰«æç­‰æŠ€æœ¯è®°å½•è¿™äº›é—äº§ï¼Œå»ºç«‹æ•°å­—æ¡£æ¡ˆï¼Œå³ä½¿å°†æ¥æœ‰ä»€ä¹ˆå˜åŒ–ï¼Œä¹Ÿèƒ½ç•™ä¸‹å®Œæ•´çš„è®°å½•ã€‚",
                        spread: "çºªå½•ç‰‡ä¸ä»…æ˜¯è®°å½•ï¼Œæ›´æ˜¯ä¼ æ’­ã€‚æˆ‘ä»¬å¸Œæœ›é€šè¿‡å½±åƒè®©æ›´å¤šäººäº†è§£å·¥ä¸šå†å²ï¼Œå…³æ³¨å·¥ä¸šé—äº§ä¿æŠ¤ï¼Œç‰¹åˆ«æ˜¯è®©å¹´è½»äººçŸ¥é“æˆ‘ä»¬çš„å·¥ä¸šå‰è¾ˆä»˜å‡ºäº†å¤šå°‘åŠªåŠ›ã€‚",
		     lesson: "æˆ‘æ·±åˆ‡æ„Ÿå—åˆ°è¿™åœºå·¥ä¸šé—äº§è½¬å‹çš„æ·±åˆ»å¯ç¤ºï¼šå®ƒä»¥ â€œä¿®æ—§å¦‚æ—§ã€æ—§æˆ¿æ–°ç”¨â€ ä¸ºæ ¸å¿ƒï¼Œè·³å‡ºå•çº¯ä¿æŠ¤æˆ–ç²—æš´æ”¹é€ çš„è¯¯åŒºï¼Œæ—¢å®Œæ•´ç•™å­˜äº†çº¢å…‰ç”µå­ç®¡å‚çš„å·¥ä¸šè‚Œç†ä¸å¥‹æ–—è®°å¿†ï¼Œåˆé€šè¿‡å¤šå…ƒä¸šæ€æ³¨å…¥ç°ä»£æ´»åŠ›ï¼Œè®©è€å‚æˆ¿æˆä¸ºè¿æ¥å†å²ä¸å½“ä¸‹ã€ä¸²è”ä»£é™…æƒ…æ„Ÿçš„æ–‡åŒ–ç©ºé—´ã€‚è¿™å¯ç¤ºæˆ‘ä»¬ï¼Œå·¥ä¸šé—äº§ä»ä¸æ˜¯åŸå¸‚å‘å±•çš„ â€œåŒ…è¢±â€ï¼Œè€Œæ˜¯æ‰¿è½½æ–‡è„‰ä¸ç²¾ç¥çš„ â€œå¯ŒçŸ¿â€ï¼Œå”¯æœ‰åœ¨ä¿æŠ¤ä¸­æ´»åŒ–ã€åœ¨ä¼ æ‰¿ä¸­åˆ›æ–°ï¼Œå¹³è¡¡å†å²è®°å¿†ä¸ç°ä»£éœ€æ±‚ï¼Œæ‰èƒ½è®©æ—§æ—¶å…‰ç„•å‘æ–°ä»·å€¼ï¼Œä¸ºåŸå¸‚æ›´æ–°æä¾›æœ‰æ¸©åº¦ã€å¯å¤åˆ¶çš„å®è·µæ ·æœ¬ã€‚",
                        moving: "æˆ‘å¬è¿‡è¿™æ ·ä¸€ä¸ªè®©æˆ‘å°è±¡æ·±åˆ»çš„äººçš„æ•…äº‹ï¼šè€å‘¨çš„æ‰‹æŒç³™å¾—åƒå‚åŒºçš„çº¢ç –å¢™ï¼ŒæŒ‡èŠ‚ä¸Šè¿˜ç•™ç€1966å¹´è¯•äº§å½©ç®¡æ—¶è¢«ç„ŠèŠ±çƒ«çš„ç–¤ã€‚é€€ä¼‘ä¸‰åå¹´ï¼Œä»–æ¯æœˆéƒ½è¦å›â€œä¸œéƒŠè®°å¿†â€è½¬ä¸€åœˆï¼Œç›¯ç€é‚£å°ç¼–å·1519çš„è’¸æ±½æœºè½¦å‡ºç¥ã€‚å­™å­æ”¥ç€ä»–çš„è¡£è§’é—®ï¼šâ€œçˆ·çˆ·ï¼Œè¿™ç ´ç«è½¦èƒ½å¼€å—ï¼Ÿâ€è€å‘¨æ²¡è¯´è¯ï¼Œæ‹‰ç€å­©å­èµ°åˆ°ä¸€é—´ä¿ç•™çš„å‚æˆ¿é‡Œâ€”â€”ç»ç’ƒå±•æŸœé‡Œï¼Œä¸€æ”¯æ³›é»„çš„é»‘ç™½æ˜¾åƒç®¡æ—ï¼Œæ‘†ç€ä»–å½“å¹´çš„å·¥ä½œè¯ã€‚â€œä½ å¤ªçˆ·çˆ·é€æˆ‘æ¥è¿™å„¿æ—¶ï¼Œè¯´è¦é€ ä¸­å›½äººè‡ªå·±çš„â€˜å…‰â€™ã€‚â€è€å‘¨æŒ‡ç€å±•æŸœé‡Œçš„ç…§ç‰‡ï¼Œâ€œé‚£å¤©è¯•äº§æˆåŠŸï¼Œæ•´ä¸ªè½¦é—´çš„ç¯éƒ½æ²¡äº®â€”â€”æ‰€æœ‰ç”µéƒ½ç»™æ˜¾åƒç®¡è®©ç€ï¼Œå¯æˆ‘ä»¬è§‰å¾—æ¯”ä»»ä½•æ—¶å€™éƒ½äº®ã€‚â€å­©å­çªç„¶æŒ‡ç€å¢™ä¸Šçš„æŠ•å½±ï¼Œé‚£æ˜¯è€å‘¨å¹´è½»æ—¶å’Œå·¥å‹ä»¬çš„åˆå½±ï¼ŒèƒŒæ™¯é‡Œçš„çº¢ç –å‚æˆ¿æ­£é€ç€æš–å…‰ã€‚è€å‘¨å¿½ç„¶å‘ç°ï¼Œè‡ªå·±ç£¨äº®çš„æ‰³æ‰‹æ¨¡å‹ï¼Œå°±æ‘†åœ¨å±•æŸœæœ€æ˜¾çœ¼çš„åœ°æ–¹ï¼Œæ—è¾¹å¡ç‰‡å†™ç€ï¼šâ€œä¸€ä»£äººçš„å…‰â€ã€‚æ™šé£ç©¿è¿‡å‚åŒºçš„ç®¡é“ï¼Œåƒæäº†å½“å¹´ä¸‹ç­çš„é“ƒå£°ã€‚è€å‘¨æ¡ç´§å­™å­çš„æ‰‹ï¼ŒæŒå¿ƒçš„æ¸©åº¦ï¼Œå’Œä¸‰åå¹´å‰ä¼ é€’ç„Šæªæ—¶ä¸€æ ·æš–ã€‚",
                        difficulty: "æœ€å¤§çš„å›°éš¾æ˜¯æ‰¾åˆ°äº†è§£å†å²çš„äººï¼Œå¾ˆå¤šè€å·¥äººå·²ç»ä¸åœ¨äº†ï¼Œä»–ä»¬çš„æ•…äº‹ä¹Ÿéšä¹‹æ¶ˆå¤±äº†ã€‚æ‰€ä»¥æˆ‘ä»¬è¦æŠ“ç´§æ—¶é—´ï¼ŒæŠ¢æ•‘æ€§è®°å½•ã€‚"
                    },
                    choices: {
                        initial: [
                            {id: "story", text: "æ‚¨åœ¨è®°å½•ä»€ä¹ˆæ•…äº‹ï¼Ÿ"},
                            {id: "importance", text: "ä¸ºä»€ä¹ˆè®°å½•å·¥ä¸šå†å²å¾ˆé‡è¦ï¼Ÿ"},
                            {id: "record", text: "æ‚¨ç”¨ä»€ä¹ˆæ–¹å¼è®°å½•ï¼Ÿ"}
                        ],
                        story: [
                            {id: "moving", text: "æœ‰ä»€ä¹ˆæ„Ÿäººçš„æ•…äº‹ï¼Ÿ"},
                            {id: "unusual", text: "æœ‰ä»€ä¹ˆç‰¹åˆ«çš„å‘ç°ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        importance: [
                            {id: "spread", text: "å¦‚ä½•è®©æ›´å¤šäººäº†è§£ï¼Ÿ"},
                            {id: "lesson", text: "æˆ‘ä»¬èƒ½ä»å†å²ä¸­å­¦åˆ°ä»€ä¹ˆï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        record: [
                            {id: "difficulty", text: "è®°å½•è¿‡ç¨‹ä¸­é‡åˆ°ä»€ä¹ˆå›°éš¾ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ]
                    }
                },
                {
                    id: 8,
                    x: 950,
                    y: 280,
                    name: "å°æ—",
                    avatar: "ğŸš´",
                    role: "å¹´è½»åˆ›ä¸šè€…",
                    location: "ä»“åº“æ”¹é€ åŒº",
                    dialogs: {
                        initial: "ä½ å¥½ï¼æˆ‘æ˜¯åœ¨è¿™é‡Œåˆ›ä¸šçš„å¹´è½»äººï¼Œæˆ‘çš„å·¥ä½œå®¤å°±åœ¨é‚£ä¸ªè€ä»“åº“é‡Œã€‚è¿™äº›è€å‚æˆ¿å¤ªæœ‰é­…åŠ›äº†ï¼Œæ—¢èƒ½æ„Ÿå—åˆ°å†å²çš„åšé‡ï¼Œåˆèƒ½æ¿€å‘åˆ›æ–°çš„çµæ„Ÿã€‚",
                        choose: "æˆ‘ä¹‹æ‰€ä»¥é€‰æ‹©åœ¨è¿™é‡Œåˆ›ä¸šï¼Œä¸€æ˜¯å–œæ¬¢è¿™é‡Œçš„å·¥ä¸šé£æ ¼ï¼ŒäºŒæ˜¯ç§Ÿé‡‘ç›¸å¯¹ä¾¿å®œï¼Œä¸‰æ˜¯æ”¿åºœå¯¹åœ¨è¿™é‡Œåˆ›ä¸šæœ‰æ‰¶æŒæ”¿ç­–ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œè¿™é‡Œæœ‰ç‹¬ç‰¹çš„æ°›å›´ã€‚",
		     advantage: "ä¸œéƒŠè®°å¿†æ˜¯å—éš¾å¾—çš„åˆ›ä¸šæ²ƒåœŸ â€”â€” è‡ªå¸¦è¶…åƒä¸‡çº§ç²¾å‡†å®¢æµï¼Œçœäº†å¤§é‡è·å®¢æˆæœ¬ï¼Œç‹¬ç‰¹çš„å·¥ä¸šé£åœºæ™¯èƒ½è®©æˆ‘çš„é¡¹ç›®å¿«é€Ÿå½¢æˆå·®å¼‚åŒ–è®°å¿†ç‚¹ï¼Œè¿˜æœ‰é’ˆå¯¹æ€§çš„äº§ä¸šè¡¥è´´å’Œæˆç†Ÿçš„æ–‡åˆ›ã€æ½®æµä¸šæ€é›†ç¾¤ï¼Œæ—¢èƒ½é™ä½åˆåˆ›æœŸè¿è¥å‹åŠ›ï¼Œåˆèƒ½å€ŸåŠ©å›­åŒºèµ„æºå’Œæ´»åŠ¨å¿«é€Ÿå¯¹æ¥å¸‚åœºã€ç§¯ç´¯å£ç¢‘ï¼Œä¸ç®¡æ˜¯åšæ–‡åˆ›ã€æ½®ç‰Œè¿˜æ˜¯ç‰¹è‰²ä½“éªŒé¡¹ç›®ï¼Œéƒ½èƒ½æ‰¾åˆ°ç²¾å‡†å—ä¼—å’Œå‘å±•ç©ºé—´ã€‚",
                        business: "æˆ‘åšçš„æ˜¯å·¥ä¸šè®¾è®¡ï¼Œæ­£å¥½å’Œè¿™é‡Œçš„å†å²ç›¸å‘¼åº”ã€‚å¾ˆå¤šå®¢æˆ·å°±æ˜¯å› ä¸ºå–œæ¬¢è¿™é‡Œçš„ç¯å¢ƒæ‰æ¥æ‰¾æˆ‘ä»¬åˆä½œçš„ï¼Œè€å‚æˆ¿æˆäº†æˆ‘ä»¬çš„ç‰¹è‰²åç‰‡ã€‚",
                        change: "åˆšæ¥çš„æ—¶å€™ï¼Œè¿™é‡Œè¿˜å¾ˆç ´è´¥ï¼Œæˆ‘ä»¬å’Œå…¶ä»–åˆ›ä¸šè€…ä¸€èµ·å‚ä¸äº†æ”¹é€ ï¼Œä¿ç•™äº†åŸæœ‰ç‰¹è‰²ï¼ŒåˆåŠ å…¥äº†ç°ä»£å…ƒç´ ã€‚è¿™ç§å‚ä¸æ„Ÿå¾ˆç‰¹åˆ«ã€‚",
                        difficulty: "çƒ­é—¨ä¸šæ€ç«äº‰æ¿€çƒˆï¼Œå·¥ä¸šé£ç©ºé—´æ”¹é€ æœ‰åˆè§„é™åˆ¶ï¼Œä¸”å®¢æµé›†ä¸­åœ¨èŠ‚å‡æ—¥ï¼Œéæ—ºå­£çš„è¿è¥å‹åŠ›å¾—æ‰›ä½ã€‚",
                        inspiration: "å›­åŒºé‡Œéšå¤„å¯è§çš„å·¥ä¸šé—å­˜å°±æ˜¯æˆ‘çš„çµæ„Ÿæºæ³‰ â€”â€” çº¢ç –å¢™çš„æ–‘é©³è‚Œç†ã€è€ç®¡é“çš„æµç•…çº¿æ¡ã€æ˜¾åƒç®¡çš„åœ†æ¶¦å¼§åº¦ï¼Œè¿˜æœ‰è€å·¥äººå½“å¹´çš„ç”Ÿäº§å·¥å…·ã€å‚ç‰Œä¸Šçš„å¤å¤å­—ä½“ï¼Œè¿™äº›å¸¦ç€å²æœˆæ¸©åº¦çš„å·¥ä¸šå…ƒç´ ï¼Œæ—¢è—ç€ç¡¬æ ¸çš„æ—¶ä»£å°è®°ï¼Œåˆæœ‰ç‹¬ç‰¹çš„ç¾å­¦å¼ åŠ›ï¼Œè®©æˆ‘å¿ä¸ä½æŠŠå®ƒä»¬è½¬åŒ–ä¸ºäº§å“è®¾è®¡è¯­è¨€ï¼Œè®©å·¥ä¸šè®°å¿†ä»¥å®ç”¨ç‰©ä»¶çš„å½¢å¼å»¶ç»­ä¸‹æ¥ã€‚",
                        product: "æˆ‘ä»¬çš„äº§å“æ ¸å¿ƒæ˜¯ â€œå·¥ä¸šé—äº§å†ç”Ÿè®¾è®¡â€â€”â€” ä»¥å›­åŒºçº¢ç –è‚Œç†ã€ç®¡é“çº¿æ¡ã€æ˜¾åƒç®¡å…ƒç´ ä¸ºçµæ„Ÿï¼ŒæŠŠè€å‚æˆ¿çš„å·¥ä¸šè´¨æ„Ÿèå…¥å®¶å±…ã€æ•°ç é…ä»¶ï¼Œæ—¢ä¿ç•™å¤å¤ç¡¬æ ¸çš„å¹´ä»£æ„Ÿï¼Œåˆå…¼é¡¾ç°ä»£å®ç”¨åŠŸèƒ½ï¼Œè®©æ¯æ¬¾äº§å“éƒ½å¸¦ç€ä¸œéƒŠè®°å¿†çš„ç‹¬å®¶æ•…äº‹æ„Ÿã€‚",
                        conflict: "æœ‰æ—¶å€™ä¼šå’Œè€å·¥äººæœ‰è§‚å¿µå†²çªï¼Œä»–ä»¬è§‰å¾—æˆ‘ä»¬æ”¹å˜äº†å¤ªå¤šï¼Œæˆ‘ä»¬åˆ™å¸Œæœ›æ›´ç°ä»£åŒ–ä¸€äº›ã€‚ä½†æ…¢æ…¢æ²Ÿé€šåï¼Œå¤§å®¶ä¹Ÿèƒ½äº’ç›¸ç†è§£äº†ã€‚",
                        future: "å¸Œæœ›è¿™é‡Œèƒ½æˆä¸ºä¸€ä¸ªåˆ›æ–°ç¤¾åŒºï¼Œè€å‚æˆ¿é‡Œå­•è‚²å‡ºæ–°æƒ³æ³•ã€æ–°äº§ä¸šï¼Œè®©å·¥ä¸šç²¾ç¥åœ¨è¿™é‡Œä»¥æ–°çš„å½¢å¼å»¶ç»­ä¸‹å»ã€‚"
                    },
                    choices: {
                        initial: [
                            {id: "choose", text: "ä¸ºä»€ä¹ˆé€‰æ‹©åœ¨è¿™é‡Œåˆ›ä¸šï¼Ÿ"},
                            {id: "business", text: "æ‚¨åšä»€ä¹ˆç”Ÿæ„ï¼Ÿ"},
                            {id: "change", text: "æ‚¨å‚ä¸æ”¹é€ äº†å—ï¼Ÿ"}
                        ],
                        choose: [
                            {id: "advantage", text: "è¿™é‡Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ"},
                            {id: "difficulty", text: "åˆ›ä¸šæœ‰ä»€ä¹ˆå›°éš¾ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        business: [
                            {id: "product", text: "æ‚¨çš„äº§å“æœ‰ä»€ä¹ˆç‰¹è‰²ï¼Ÿ"},
                            {id: "inspiration", text: "è¿™é‡Œç»™æ‚¨å¸¦æ¥ä»€ä¹ˆçµæ„Ÿï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ],
                        change: [
                            {id: "conflict", text: "æœ‰æ²¡æœ‰é‡åˆ°ä»€ä¹ˆè§‚å¿µå†²çªï¼Ÿ"},
                            {id: "future", text: "æ‚¨å¯¹æœªæ¥æœ‰ä»€ä¹ˆè§„åˆ’ï¼Ÿ"},
                            {id: "back", text: "å›åˆ°ä¸Šä¸€çº§"}
                        ]
                    }
                }
            ];
            
            // æˆå°±æ•°æ®ï¼ˆ12ä¸ªï¼‰
            const achievementsData = [
                {
                    id: 1,
                    title: "åˆæ¢å·¥ä¸š",
                    description: "å‘ç°ç¬¬ä¸€ä¸ªå·¥ä¸šé—äº§åœ°ç‚¹",
                    icon: "ğŸ”",
                    condition: () => gameState.discovered >= 1
                },
                {
                    id: 2,
                    title: "å¯¹è¯å†å²",
                    description: "ä¸ç¬¬ä¸€ä½è€å·¥äººäº¤è°ˆ",
                    icon: "ğŸ—£ï¸",
                    condition: () => gameState.talkedNpcs.length >= 1
                },
                {
                    id: 3,
                    title: "æ¢ç´¢å…ˆé”‹",
                    description: "å‘ç°5ä¸ªå·¥ä¸šé—äº§åœ°ç‚¹",
                    icon: "â­",
                    condition: () => gameState.discovered >= 5
                },
                {
                    id: 4,
                    title: "äº¤æµè¾¾äºº",
                    description: "ä¸4ä½ä¸åŒçš„NPCäº¤è°ˆ",
                    icon: "ğŸ‘¥",
                    condition: () => gameState.talkedNpcs.length >= 4
                },
                {
                    id: 5,
                    title: "æ”¹é€ å†³ç­–è€…",
                    description: "å®Œæˆç¬¬ä¸€ä¸ªåœ°ç‚¹çš„æ”¹é€ è§„åˆ’",
                    icon: "ğŸ“‹",
                    condition: () => gameState.locations.filter(loc => loc.redevelopmentCompleted).length >= 1
                },
                {
                    id: 6,
                    title: "å·¥ä¸šå­¦è€…",
                    description: "å†å²çŸ¥è¯†è¾¾åˆ°50%",
                    icon: "ğŸ“š",
                    condition: () => gameState.stats.knowledge >= 50
                },
                {
                    id: 7,
                    title: "ä¿æŠ¤å…ˆé”‹",
                    description: "ä¿æŠ¤ç†è§£è¾¾åˆ°50%",
                    icon: "ğŸ›¡ï¸",
                    condition: () => gameState.stats.understanding >= 50
                },
                {
                    id: 8,
                    title: "å®è·µèƒ½æ‰‹",
                    description: "å®è·µæŠ€èƒ½è¾¾åˆ°50%",
                    icon: "ğŸ”§",
                    condition: () => gameState.stats.skill >= 50
                },
                {
                    id: 9,
                    title: "å…¨é¢å‘å±•",
                    description: "ä¸‰é¡¹æŒ‡æ ‡å‡è¾¾åˆ°60%ä»¥ä¸Š",
                    icon: "âš–ï¸",
                    condition: () => gameState.stats.knowledge >= 60 && 
                                   gameState.stats.understanding >= 60 && 
                                   gameState.stats.skill >= 60
                },
                {
                    id: 10,
                    title: "æ”¹é€ å¤§å¸ˆ",
                    description: "å®Œæˆ6ä¸ªåœ°ç‚¹çš„æ”¹é€ è§„åˆ’",
                    icon: "ğŸ—ï¸",
                    condition: () => gameState.locations.filter(loc => loc.redevelopmentCompleted).length >= 6
                },
                {
                    id: 11,
                    title: "ç¤¾äº¤è¾¾äºº",
                    description: "ä¸æ‰€æœ‰NPCäº¤è°ˆè¿‡",
                    icon: "ğŸ¤",
                    condition: () => gameState.talkedNpcs.length >= npcsData.length
                },
                {
                    id: 12,
                    title: "å·¥ä¸šé—äº§å®ˆæŠ¤è€…",
                    description: "æ¢ç´¢æ‰€æœ‰åœ°ç‚¹å¹¶å®Œæˆæ‰€æœ‰æ”¹é€ ï¼Œæˆä¸ºçœŸæ­£çš„ä¿æŠ¤å€¡å¯¼è€…",
                    icon: "ğŸ†",
                    condition: () => gameState.discovered >= gameState.totalLocations && 
                                   gameState.locations.filter(loc => loc.redevelopmentCompleted).length >= gameState.totalLocations
                }
            ];
            
            // ç»˜åˆ¶ç©å®¶
            function drawPlayer() {
                ctx.fillStyle = gameState.player.color;
                ctx.fillRect(
                    gameState.player.x - gameState.player.width / 2,
                    gameState.player.y - gameState.player.height / 2,
                    gameState.player.width,
                    gameState.player.height
                );
                
                // ç»˜åˆ¶å¤´éƒ¨
                ctx.fillStyle = "#f39c12";
                ctx.beginPath();
                ctx.arc(
                    gameState.player.x,
                    gameState.player.y - gameState.player.height / 2 - 8,
                    8,
                    0,
                    Math.PI * 2
                );
                ctx.fill();
            }
            
            // ç»˜åˆ¶UI
            function drawUI() {
                // æ˜¾ç¤ºå½“å‰ä½ç½®æç¤º
                const nearbyLocation = gameState.locations.find(loc => {
                    const dx = loc.x - gameState.player.x;
                    const dy = loc.y - gameState.player.y;
                    return Math.sqrt(dx * dx + dy * dy) < loc.radius && !loc.redevelopmentCompleted;
                });
                
                const nearbyNpc = gameState.npcs.find(npc => {
                    const dx = npc.x - gameState.player.x;
                    const dy = npc.y - gameState.player.y;
                    return Math.sqrt(dx * dx + dy * dy) < npc.radius;
                });
                
                ctx.fillStyle = "rgba(255, 255, 255, 0.9)";
                ctx.font = "14px Arial";
                ctx.textAlign = "center";
                
                if (nearbyLocation && nearbyLocation.discovered) {
                    ctx.fillText("æŒ‰ E é”®è¿›è¡Œæ”¹é€ è§„åˆ’", canvas.width / 2, 30);
                } else if (nearbyLocation && !nearbyLocation.discovered) {
                    ctx.fillText("æŒ‰ F é”®æ¢ç´¢æ­¤åœ°ç‚¹", canvas.width / 2, 30);
                } else if (nearbyNpc) {
                    ctx.fillText("æŒ‰ E é”®ä¸ " + nearbyNpc.name + " äº¤è°ˆ", canvas.width / 2, 30);
                }
            }
            
            // ç»˜åˆ¶å»ºç­‘å›¾æ ‡
            function drawBuildingIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x - 10, y - 8, 20, 16);
                ctx.fillStyle = "#1a2a3a";
                ctx.fillRect(x - 6, y - 4, 12, 8);
            }
            
            function drawWarehouseIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x - 12, y - 6, 24, 12);
                ctx.fillStyle = "#1a2a3a";
                ctx.fillRect(x - 8, y - 2, 4, 4);
                ctx.fillRect(x, y - 2, 4, 4);
                ctx.fillRect(x + 4, y - 2, 4, 4);
            }
            
            function drawChimneyIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x - 6, y - 12, 12, 24);
                ctx.fillRect(x - 10, y + 12, 20, 4);
            }
            
            function drawWorkshopIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x - 12, y - 8, 24, 16);
                ctx.fillStyle = "#1a2a3a";
                ctx.fillRect(x - 8, y - 4, 4, 4);
                ctx.fillRect(x, y - 4, 4, 4);
                ctx.fillRect(x + 4, y - 4, 4, 4);
                ctx.fillRect(x - 8, y + 2, 16, 4);
            }
            
            function drawWaterIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.ellipse(x, y, 10, 6, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = color + "cc";
                ctx.beginPath();
                ctx.ellipse(x, y - 2, 7, 4, 0, 0, Math.PI * 2);
                ctx.fill();
            }
            
            function drawRailIcon(x, y, color) {
                ctx.strokeStyle = color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(x - 12, y);
                ctx.lineTo(x + 12, y);
                ctx.stroke();
                
                const points = [-10, -5, 0, 5, 10];
                points.forEach(p => {
                    ctx.fillStyle = color;
                    ctx.fillRect(p - 1, y - 3, 2, 6);
                });
            }
            
            function drawToolIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x - 8, y - 8, 4, 16);
                ctx.fillRect(x - 2, y - 10, 12, 4);
            }
            
            function drawPowerIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.arc(x, y, 8, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = "#1a2a3a";
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fill();
                
                for (let i = 0; i < 4; i++) {
                    const angle = (i * Math.PI / 2) - Math.PI / 4;
                    const dx = Math.cos(angle) * 12;
                    const dy = Math.sin(angle) * 12;
                    ctx.beginPath();
                    ctx.moveTo(x, y);
                    ctx.lineTo(x + dx, y + dy);
                    ctx.strokeStyle = color;
                    ctx.lineWidth = 2;
                    ctx.stroke();
                }
            }
            
            function drawMeasureIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x - 10, y - 4, 20, 8);
                ctx.fillRect(x - 4, y - 10, 8, 20);
            }
            
            function drawOfficeIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x - 12, y - 10, 24, 20);
                ctx.fillStyle = "#1a2a3a";
                ctx.fillRect(x - 8, y - 6, 4, 4);
                ctx.fillRect(x, y - 6, 4, 4);
                ctx.fillRect(x + 4, y - 6, 4, 4);
                ctx.fillRect(x - 8, y + 2, 16, 8);
            }
            
            function drawDormIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x - 12, y - 8, 24, 16);
                ctx.fillStyle = "#1a2a3a";
                for (let i = 0; i < 2; i++) {
                    for (let j = 0; j < 3; j++) {
                        ctx.fillRect(x - 10 + j * 7, y - 6 + i * 7, 4, 4);
                    }
                }
            }
            
            function drawClubIcon(x, y, color) {
                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.moveTo(x, y - 12);
                ctx.lineTo(x + 12, y + 6);
                ctx.lineTo(x - 12, y + 6);
                ctx.closePath();
                ctx.fill();
                ctx.fillStyle = "#1a2a3a";
                ctx.fillRect(x - 6, y - 2, 12, 4);
            }
            
            // æ›´æ–°æˆé•¿UI
            function updateGrowthUI() {
                const currentStage = gameState.growthStages.find(s => s.stage === gameState.player.growthStage);
                if (currentStage) {
                    currentGrowthTitle.textContent = currentStage.title;
                    currentGrowthDesc.textContent = currentStage.description;
                }
                
                knowledgeStat.textContent = gameState.stats.knowledge + "%";
                understandingStat.textContent = gameState.stats.understanding + "%";
                skillStat.textContent = gameState.stats.skill + "%";
                
                // æ›´æ–°æˆé•¿é˜¶æ®µæŒ‡ç¤ºå™¨
                document.querySelectorAll('.growth-stage').forEach(stageEl => {
                    const stage = parseInt(stageEl.dataset.stage);
                    stageEl.classList.remove('active', 'completed');
                    
                    if (stage < gameState.player.growthStage) {
                        stageEl.classList.add('completed');
                    } else if (stage === gameState.player.growthStage) {
                        stageEl.classList.add('active');
                    }
                });
            }
            
            // åˆå§‹åŒ–æ¸¸æˆ
            function initGame() {
                initLocations();
                initNpcs();
                initAchievements();
                generateTiles();
                updateGrowthUI();
                welcomeModal.style.display = 'flex';
            }
            
            function initLocations() {
                gameState.locations = locationsData.map(loc => ({
                    ...loc,
                    radius: 40,
                    discovered: false,
                    redevelopmentCompleted: false,
                    chosenOption: null
                }));
                updateLocationList();
            }
            
            function initNpcs() {
                gameState.npcs = npcsData.map(npc => ({
                    ...npc,
                    radius: 40
                }));
            }
            
            function initAchievements() {
                gameState.achievements = achievementsData.map(ach => ({
                    ...ach,
                    unlocked: false
                }));
                gameState.talkedNpcs = [];
                updateAchievementList();
            }
            
            function updateLocationList() {
                locationList.innerHTML = '';
                gameState.locations.forEach(location => {
                    const li = document.createElement('li');
                    li.className = location.discovered ? 'discovered' : '';
                    li.innerHTML = `
                        <span class="location-icon" style="background-color: ${location.color}"></span>
                        ${location.name} <span style="color:#aaa; font-size:0.8rem">(${location.year})</span>
                        <span class="location-status ${location.redevelopmentCompleted ? 'completed' : ''}">
                            ${location.discovered ? 
                                (location.redevelopmentCompleted ? 'å·²è§„åˆ’' : 'å¾…è§„åˆ’') : 
                                'æœªå‘ç°'}
                        </span>
                    `;
                    locationList.appendChild(li);
                });
            }
            
            function updateAchievementList() {
                achievementList.innerHTML = '';
                gameState.achievements.forEach(achievement => {
                    const li = document.createElement('li');
                    li.className = 'achievement-item';
                    li.innerHTML = `
                        <div class="achievement-icon ${achievement.unlocked ? 'unlocked' : ''}">
                            ${achievement.icon}
                        </div>
                        <div class="achievement-info">
                            <div class="achievement-title">
                                ${achievement.title}
                            </div>
                            <div class="achievement-desc">
                                ${achievement.unlocked ? achievement.description : 'å®Œæˆç‰¹å®šä»»åŠ¡è§£é”'}
                            </div>
                        </div>
                    `;
                    achievementList.appendChild(li);
                });
            }
            
            function checkAchievements() {
                let newAchievements = false;
                gameState.achievements.forEach(achievement => {
                    if (!achievement.unlocked && achievement.condition()) {
                        achievement.unlocked = true;
                        gameState.completedAchievements++;
                        showAchievementPopup(achievement);
                        newAchievements = true;
                    }
                });
                
                if (newAchievements) {
                    updateAchievementList();
                }
            }
            
            function showAchievementPopup(achievement) {
                popupTitle.textContent = `è§£é”æˆå°±: ${achievement.title}`;
                popupDesc.textContent = achievement.description;
                achievementPopup.classList.add('show');
                
                setTimeout(() => {
                    achievementPopup.classList.remove('show');
                }, 5000);
            }
            
            function generateTiles() {
                const rows = Math.ceil(canvas.height / gameState.tileSize);
                const cols = Math.ceil(canvas.width / gameState.tileSize);
                
                for (let y = 0; y < rows; y++) {
                    gameState.tiles[y] = [];
                    for (let x = 0; x < cols; x++) {
                        let type = 'grass';
                        let variant = Math.floor(Math.random() * 3);
                        
                        if (
                            (x > 5 && x < cols - 5 && y === Math.floor(rows/2)) ||
                            (y > 5 && y < rows - 5 && x === Math.floor(cols/2)) ||
                            (x > 10 && x < 20 && y > 10 && y < 20) ||
                            (x > cols - 20 && x < cols - 10 && y > 10 && y < 20) ||
                            (x > 10 && x < 20 && y > rows - 20 && y < rows - 10) ||
                            (x > cols - 20 && x < cols - 10 && y > rows - 20 && y < rows - 10)
                        ) {
                            type = 'path';
                            variant = Math.floor(Math.random() * 2);
                        }
                        
                        if (
                            (x > 3 && x < 7 && y > 3 && y < 7) ||
                        (x > cols - 7 && x < cols - 3 && y > 3 && y < 7) ||
                        (x > 3 && x < 7 && y > rows - 7 && y < rows - 3) ||
                        (x > cols - 7 && x < cols - 3 && y > rows - 7 && y < rows - 3)
                        ) {
                            type = 'building';
                            variant = Math.floor(Math.random() * 2);
                        }
                        
                        gameState.tiles[y][x] = { type, variant };
                    }
                }
            }
            
            // ç»˜åˆ¶åœ°å›¾
            function drawMap() {
                for (let y = 0; y < gameState.tiles.length; y++) {
                    for (let x = 0; x < gameState.tiles[y].length; x++) {
                        const tile = gameState.tiles[y][x];
                        let color;
                        
                        switch (tile.type) {
                            case 'grass':
                                color = tile.variant === 0 ? '#27ae60' : tile.variant === 1 ? '#2ecc71' : '#219653';
                                break;
                            case 'path':
                                color = tile.variant === 0 ? '#7f8c8d' : '#95a5a6';
                                break;
                            case 'building':
                                color = tile.variant === 0 ? '#34495e' : '#2c3e50';
                                break;
                            default:
                                color = '#34495e';
                        }
                        
                        ctx.fillStyle = color;
                        ctx.fillRect(
                            x * gameState.tileSize,
                            y * gameState.tileSize,
                            gameState.tileSize,
                            gameState.tileSize
                        );
                        
                        // ç»˜åˆ¶ç½‘æ ¼çº¿
                        ctx.strokeStyle = 'rgba(0, 0, 0, 0.1)';
                        ctx.strokeRect(
                            x * gameState.tileSize,
                            y * gameState.tileSize,
                            gameState.tileSize,
                            gameState.tileSize
                        );
                    }
                }
            }
            
            // ç»˜åˆ¶åœ°ç‚¹
            function drawLocations() {
                gameState.locations.forEach(location => {
                    // ç»˜åˆ¶åœ°ç‚¹èŒƒå›´æŒ‡ç¤ºå™¨
                    ctx.beginPath();
                    ctx.arc(location.x, location.y, location.radius, 0, Math.PI * 2);
                    ctx.strokeStyle = location.discovered ? 
                        `${location.color}80` : 'rgba(255, 255, 255, 0.3)';
                    ctx.lineWidth = 2;
                    ctx.setLineDash(location.discovered ? [] : [5, 5]);
                    ctx.stroke();
                    ctx.setLineDash([]);
                    
                    // æ ¹æ®åœ°ç‚¹ç±»å‹ç»˜åˆ¶ä¸åŒå›¾æ ‡
                    switch (location.id) {
                        case 1: // æ—§é”…ç‚‰æˆ¿
                            drawChimneyIcon(location.x, location.y, location.color);
                            break;
                        case 2: // å‚¨æ–™ä»“åº“
                            drawWarehouseIcon(location.x, location.y, location.color);
                            break;
                        case 3: // é”»é€ è½¦é—´
                            drawWorkshopIcon(location.x, location.y, location.color);
                            break;
                        case 4: // è£…é…è½¦é—´
                            drawBuildingIcon(location.x, location.y, location.color);
                            break;
                        case 5: // ä¾›æ°´ç«™
                            drawWaterIcon(location.x, location.y, location.color);
                            break;
                        case 6: // é“è·¯ä¸“ç”¨çº¿
                            drawRailIcon(location.x, location.y, location.color);
                            break;
                        case 7: // å·¥å…·è½¦é—´
                            drawToolIcon(location.x, location.y, location.color);
                            break;
                        case 8: // å˜ç”µç«™
                            drawPowerIcon(location.x, location.y, location.color);
                            break;
                        case 9: // è®¡é‡å®¤
                            drawMeasureIcon(location.x, location.y, location.color);
                            break;
                        case 10: // å‚éƒ¨åŠå…¬æ¥¼
                            drawOfficeIcon(location.x, location.y, location.color);
                            break;
                        case 11: // èŒå·¥å®¿èˆ
                            drawDormIcon(location.x, location.y, location.color);
                            break;
                        case 12: // èŒå·¥ä¿±ä¹éƒ¨
                            drawClubIcon(location.x, location.y, location.color);
                            break;
                    }
                    
                    // æ˜¾ç¤ºåœ°ç‚¹åç§°
                    if (location.discovered) {
                        ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                        ctx.font = '12px Arial';
                        ctx.textAlign = 'center';
                        ctx.fillText(location.name, location.x, location.y + 30);
                    }
                });
            }
            
            // ç»˜åˆ¶NPC
            function drawNpcs() {
                gameState.npcs.forEach(npc => {
                    // ç»˜åˆ¶NPCèŒƒå›´æŒ‡ç¤ºå™¨
                    ctx.beginPath();
                    ctx.arc(npc.x, npc.y, npc.radius, 0, Math.PI * 2);
                    ctx.strokeStyle = 'rgba(46, 204, 113, 0.3)';
                    ctx.lineWidth = 2;
                    ctx.setLineDash([5, 5]);
                    ctx.stroke();
                    ctx.setLineDash([]);
                    
                    // ç»˜åˆ¶NPCå¤´åƒ
                    ctx.fillStyle = '#2a3a4a';
                    ctx.beginPath();
                    ctx.arc(npc.x, npc.y, 15, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // ç»˜åˆ¶NPCå›¾æ ‡
                    ctx.font = '20px Arial';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillStyle = '#fff';
                    ctx.fillText(npc.avatar, npc.x, npc.y);
                    
                    // æ˜¾ç¤ºNPCåç§°
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                    ctx.font = '12px Arial';
                    ctx.fillText(npc.name, npc.x, npc.y + 25);
                });
            }
            
            // æ›´æ–°ç©å®¶ä½ç½®
            function updatePlayer() {
                if (gameState.keys.ArrowUp || gameState.keys.KeyW) {
                    gameState.player.y -= gameState.player.speed;
                    gameState.player.direction = 'up';
                }
                if (gameState.keys.ArrowDown || gameState.keys.KeyS) {
                    gameState.player.y += gameState.player.speed;
                    gameState.player.direction = 'down';
                }
                if (gameState.keys.ArrowLeft || gameState.keys.KeyA) {
                    gameState.player.x -= gameState.player.speed;
                    gameState.player.direction = 'left';
                }
                if (gameState.keys.ArrowRight || gameState.keys.KeyD) {
                    gameState.player.x += gameState.player.speed;
                    gameState.player.direction = 'right';
                }
                
                // è¾¹ç•Œæ£€æŸ¥
                gameState.player.x = Math.max(
                    gameState.player.width / 2,
                    Math.min(canvas.width - gameState.player.width / 2, gameState.player.x)
                );
                gameState.player.y = Math.max(
                    gameState.player.height / 2 + 8, // åŠ ä¸Šå¤´éƒ¨é«˜åº¦
                    Math.min(canvas.height - gameState.player.height / 2, gameState.player.y)
                );
            }
            
            // æ£€æŸ¥åœ°ç‚¹å‘ç°
            function checkLocationDiscovery() {
                if (gameState.keys.KeyF) {
                    const nearbyLocation = gameState.locations.find(loc => {
                        const dx = loc.x - gameState.player.x;
                        const dy = loc.y - gameState.player.y;
                        return Math.sqrt(dx * dx + dy * dy) < loc.radius && !loc.discovered;
                    });
                    
                    if (nearbyLocation) {
                        discoverLocation(nearbyLocation);
                        gameState.keys.KeyF = false; // é˜²æ­¢é‡å¤è§¦å‘
                    }
                }
            }
            
            // å‘ç°åœ°ç‚¹
            function discoverLocation(location) {
                location.discovered = true;
                gameState.discovered++;
                updateProgress();
                updateLocationList();
                
                // å¢åŠ ç»Ÿè®¡æ•°æ®
                gameState.stats.knowledge = Math.min(100, gameState.stats.knowledge + 8);
                gameState.stats.understanding = Math.min(100, gameState.stats.understanding + 5);
                updateGrowthUI();
                
                // æ˜¾ç¤ºåœ°ç‚¹å¯¹æ¯”æ¨¡æ€æ¡†
                showLocationComparison(location);
                
                // æ£€æŸ¥æˆå°±å’Œæˆé•¿é˜¶æ®µ
                checkAchievements();
                checkGrowthStage();
            }
            
            // æ˜¾ç¤ºåœ°ç‚¹å¯¹æ¯”
            function showLocationComparison(location) {
                comparisonTitle.textContent = `${location.name} (${location.year})`;
                comparisonContent.innerHTML = `
                    <div class="comparison-row">
                        <div class="comparison-item">
                            <h3>${location.before.title}</h3>
                            <div class="comparison-image-container">
                                <img src="${location.before.image}" alt="${location.before.title}" class="comparison-image">
                                <div class="image-caption">${location.year} å¹´åŸè²Œ</div>
                            </div>
                            <p class="comparison-description">${location.before.description}</p>
                        </div>
                        <div class="comparison-item">
                            <h3>${location.after.title}</h3>
                            <div class="comparison-image-container">
                                <img src="${location.after.image}" alt="${location.after.title}" class="comparison-image">
                                <div class="image-caption">æ”¹é€ åæ•ˆæœ</div>
                            </div>
                            <p class="comparison-description">${location.after.description}</p>
                        </div>
                    </div>
                    <div class="location-facts">
                        <h4>ç°é˜¶æ®µæ”¹é€ è¿‡ç¨‹</h4>
                        <ul>
                            ${location.facts.map(fact => `<li>${fact}</li>`).join('')}
                        </ul>
                    </div>
                `;
                comparisonModal.style.display = 'flex';
            }
            
            // æ£€æŸ¥NPCå¯¹è¯
            function checkNpcInteraction() {
                if (gameState.keys.KeyE) {
                    // å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å¯å¯¹è¯çš„NPC
                    const nearbyNpc = gameState.npcs.find(npc => {
                        const dx = npc.x - gameState.player.x;
                        const dy = npc.y - gameState.player.y;
                        return Math.sqrt(dx * dx + dy * dy) < npc.radius;
                    });
                    
                    // å¦‚æœæ²¡æœ‰NPCï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å¯æ”¹é€ çš„åœ°ç‚¹
                    const nearbyLocation = gameState.locations.find(loc => {
                        const dx = loc.x - gameState.player.x;
                        const dy = loc.y - gameState.player.y;
                        return Math.sqrt(dx * dx + dy * dy) < loc.radius && 
                               loc.discovered && !loc.redevelopmentCompleted;
                    });
                    
                    if (nearbyNpc) {
                        talkToNpc(nearbyNpc);
                        gameState.keys.KeyE = false;
                    } else if (nearbyLocation) {
                        showRedevelopmentOptions(nearbyLocation);
                        gameState.keys.KeyE = false;
                    }
                }
            }
            
            // ä¸NPCå¯¹è¯
            function talkToNpc(npc) {
                gameState.currentNpc = npc;
                
                // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å¯¹è¯ï¼Œæ·»åŠ åˆ°å·²äº¤è°ˆåˆ—è¡¨
                if (!gameState.talkedNpcs.includes(npc.id)) {
                    gameState.talkedNpcs.push(npc.id);
                }
                
                // æ›´æ–°NPCå¯¹è¯æ¡†
                npcAvatar.textContent = npc.avatar;
                npcName.textContent = npc.name;
                npcRole.textContent = npc.role;
                npcDialog.textContent = npc.dialogs.initial;
                
                // æ›´æ–°å¯¹è¯é€‰é¡¹
                updateNpcChoices('initial');
                
                // æ˜¾ç¤ºNPCæ¨¡æ€æ¡†
                npcModal.style.display = 'flex';
                
                // å¢åŠ ç»Ÿè®¡æ•°æ®
                gameState.stats.knowledge = Math.min(100, gameState.stats.knowledge + 5);
                gameState.stats.understanding = Math.min(100, gameState.stats.understanding + 7);
                updateGrowthUI();
                
                // æ£€æŸ¥æˆå°±å’Œæˆé•¿é˜¶æ®µ
                checkAchievements();
                checkGrowthStage();
            }
            
            // æ›´æ–°NPCå¯¹è¯é€‰é¡¹
            function updateNpcChoices(choiceKey) {
                const npc = gameState.currentNpc;
                if (!npc || !npc.choices[choiceKey]) return;
                
                npcChoices.innerHTML = '';
                npc.choices[choiceKey].forEach(choice => {
                    const btn = document.createElement('button');
                    btn.className = 'npc-choice';
                    btn.dataset.response = choice.id;
                    btn.textContent = choice.text;
                    
                    btn.addEventListener('click', () => {
                        if (choice.id === 'back') {
                            // è¿”å›åˆå§‹å¯¹è¯
                            npcDialog.textContent = npc.dialogs.initial;
                            updateNpcChoices('initial');
                        } else {
                            // æ˜¾ç¤ºå¯¹åº”å›å¤
                            npcDialog.textContent = npc.dialogs[choice.id] || 
                                "å¾ˆæŠ±æ­‰ï¼Œæˆ‘æ²¡æœ‰æ›´å¤šå…³äºè¿™ä¸ªè¯é¢˜çš„ä¿¡æ¯äº†ã€‚";
                            // æ›´æ–°é€‰é¡¹
                            if (npc.choices[choice.id]) {
                                updateNpcChoices(choice.id);
                            } else {
                                // å¦‚æœæ²¡æœ‰æ›´å¤šé€‰é¡¹ï¼Œæ·»åŠ è¿”å›é€‰é¡¹
                                npcChoices.innerHTML = '';
                                const backBtn = document.createElement('button');
                                backBtn.className = 'npc-choice';
                                backBtn.dataset.response = 'back';
                                backBtn.textContent = 'å›åˆ°ä¸Šä¸€çº§';
                                backBtn.addEventListener('click', () => {
                                    npcDialog.textContent = npc.dialogs.initial;
                                    updateNpcChoices('initial');
                                });
                                npcChoices.appendChild(backBtn);
                            }
                        }
                    });
                    
                    npcChoices.appendChild(btn);
                });
            }
            
            // æ˜¾ç¤ºæ”¹é€ é€‰é¡¹
            function showRedevelopmentOptions(location) {
                gameState.currentRedevelopmentLocation = location;
                
                redevelopmentTitle.textContent = `è§„åˆ’ "${location.name}" æ”¹é€ æ–¹æ¡ˆ`;
                redevelopmentContent.innerHTML = `
                    <p>è¯·ä¸º${location.name}é€‰æ‹©æœ€åˆé€‚çš„æ”¹é€ æ–¹æ¡ˆã€‚è€ƒè™‘æ–¹æ¡ˆå¯¹æ–‡åŒ–ä¿æŠ¤ã€ç»æµå‘å±•å’Œå¯æŒç»­æ€§çš„å½±å“ï¼š</p>
                    <div class="redevelopment-options">
                        ${location.redevelopmentOptions.map(option => `
                            <div class="redevelopment-option" data-option="${option.id}">
                                <h3>${option.title}</h3>
                                <p>${option.description}</p>
                                <div class="impact-metrics">
                                    <div class="impact-metric">
                                        <div class="impact-metric-label">æ–‡åŒ–ä»·å€¼</div>
                                        <div class="impact-metric-value">${option.impact.culture}%</div>
                                    </div>
                                    <div class="impact-metric">
                                        <div class="impact-metric-label">ç»æµæ•ˆç›Š</div>
                                        <div class="impact-metric-value">${option.impact.economy}%</div>
                                    </div>
                                    <div class="impact-metric">
                                        <div class="impact-metric-label">å¯æŒç»­æ€§</div>
                                        <div class="impact-metric-value">${option.impact.sustainability}%</div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                // æ·»åŠ é€‰é¡¹ç‚¹å‡»äº‹ä»¶
                document.querySelectorAll('.redevelopment-option').forEach(option => {
                    option.addEventListener('click', () => {
                        const optionId = option.dataset.option;
                        selectRedevelopmentOption(optionId);
                    });
                });
                
                redevelopmentModal.style.display = 'flex';
            }
            
            // é€‰æ‹©æ”¹é€ æ–¹æ¡ˆ
            function selectRedevelopmentOption(optionId) {
                const location = gameState.currentRedevelopmentLocation;
                if (!location) return;
                
                const selectedOption = location.redevelopmentOptions.find(opt => opt.id === optionId);
                if (selectedOption) {
                    location.chosenOption = selectedOption;
                    location.redevelopmentCompleted = true;
                    
                    // å¢åŠ ç»Ÿè®¡æ•°æ®
                    gameState.stats.understanding = Math.min(100, gameState.stats.understanding + 6);
                    gameState.stats.skill = Math.min(100, gameState.stats.skill + 10);
                    updateGrowthUI();
                    
                    // æ›´æ–°åœ°ç‚¹åˆ—è¡¨
                    updateLocationList();
                    
                    // æ˜¾ç¤ºé€‰æ‹©ç»“æœ
                    redevelopmentContent.innerHTML = `
                        <div class="redevelopment-result">
                            <h3>ä½ é€‰æ‹©äº† "${selectedOption.title}" æ–¹æ¡ˆ</h3>
                            <p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼è¯¥æ–¹æ¡ˆå°†ä¸º${location.name}å¸¦æ¥æ–°çš„ç”Ÿå‘½åŠ›ï¼ŒåŒæ—¶ä¿ç•™å…¶å†å²ä»·å€¼ã€‚</p>
                            <div class="impact-metrics">
                                <div class="impact-metric">
                                    <div class="impact-metric-label">æ–‡åŒ–ä»·å€¼</div>
                                    <div class="impact-metric-value">${selectedOption.impact.culture}%</div>
                                </div>
                                <div class="impact-metric">
                                    <div class="impact-metric-label">ç»æµæ•ˆç›Š</div>
                                    <div class="impact-metric-value">${selectedOption.impact.economy}%</div>
                                </div>
                                <div class="impact-metric">
                                    <div class="impact-metric-label">å¯æŒç»­æ€§</div>
                                    <div class="impact-metric-value">${selectedOption.impact.sustainability}%</div>
                                </div>
                            </div>
                        </div>
                        <p>é€šè¿‡è¿™æ¬¡è§„åˆ’ï¼Œä½ å¯¹å·¥ä¸šé—äº§æ”¹é€ æœ‰äº†æ›´æ·±å…¥çš„ç†è§£ï¼Œå®è·µèƒ½åŠ›ä¹Ÿå¾—åˆ°äº†æå‡ã€‚</p>
                    `;
                    
                    // æ£€æŸ¥æˆå°±å’Œæˆé•¿é˜¶æ®µ
                    checkAchievements();
                    checkGrowthStage();
                }
            }
            
            // æ£€æŸ¥æˆé•¿é˜¶æ®µ
            function checkGrowthStage() {
                const newStage = gameState.growthStages.find(s => 
                    gameState.discovered >= s.required && s.stage > gameState.player.growthStage
                );
                
                if (newStage) {
                    gameState.player.growthStage = newStage.stage;
                    updateGrowthUI();
                    showGrowthModal(newStage);
                }
            }
            
            // æ˜¾ç¤ºæˆé•¿æ¨¡æ€æ¡†
            function showGrowthModal(stage) {
                growthModalTitle.textContent = `æˆé•¿ä¸º ${stage.title}`;
                growthModalDesc.textContent = stage.description;
                
                // è®¡ç®—èƒ½åŠ›æå‡
                const knowledgeGain = 20;
                const understandingGain = 15;
                const skillGain = 10;
                
                document.querySelector('.growth-metrics').innerHTML = `
                    <div class="growth-metric">
                        <div>çŸ¥è¯†æå‡</div>
                        <div class="growth-metric-value">+${knowledgeGain}%</div>
                    </div>
                    <div class="growth-metric">
                        <div>ç†è§£æå‡</div>
                        <div class="growth-metric-value">+${understandingGain}%</div>
                    </div>
                    <div class="growth-metric">
                        <div>æŠ€èƒ½æå‡</div>
                        <div class="growth-metric-value">+${skillGain}%</div>
                    </div>
                `;
                
                // åº”ç”¨èƒ½åŠ›æå‡
                gameState.stats.knowledge = Math.min(100, gameState.stats.knowledge + knowledgeGain);
                gameState.stats.understanding = Math.min(100, gameState.stats.understanding + understandingGain);
                gameState.stats.skill = Math.min(100, gameState.stats.skill + skillGain);
                updateGrowthUI();
                
                growthModal.style.display = 'flex';
            }
            
            // æ›´æ–°è¿›åº¦
            function updateProgress() {
                const progress = Math.round((gameState.discovered / gameState.totalLocations) * 100);
                progressBar.style.width = `${progress}%`;
                progressPercent.textContent = `${progress}%`;
                
                // æ£€æŸ¥æ˜¯å¦å®Œæˆç¬¬ä¸€å…³
                if (gameState.discovered === gameState.totalLocations) {
                    setTimeout(() => {
                        levelCompleteModal.style.display = 'flex';
                    }, 1000);
                }
            }
            
            // æ¸¸æˆä¸»å¾ªç¯
            function gameLoop() {
                // æ¸…ç©ºç”»å¸ƒ
                ctx.fillStyle = '#15202b';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // æ›´æ–°æ¸¸æˆçŠ¶æ€
                updatePlayer();
                checkLocationDiscovery();
                checkNpcInteraction();
                
                // ç»˜åˆ¶æ¸¸æˆå…ƒç´ 
                drawMap();
                drawLocations();
                drawNpcs();
                drawPlayer();
                drawUI();
                
                // å¾ªç¯
                requestAnimationFrame(gameLoop);
            }
            
            // ================================
            // ç¬¬äºŒå…³ï¼šè®°å¿†é…å¯¹æ¸¸æˆé€»è¾‘
            // ================================
            
            // åˆå§‹åŒ–è®°å¿†æ¸¸æˆ
            function initMemoryGame() {
                memoryGameBoard.innerHTML = '';
                memoryGameState.flippedCards = [];
                memoryGameState.matchedPairs = 0;
                memoryGameState.attempts = 0;
                memoryGameState.seconds = 0;
                
                // æ›´æ–°æ˜¾ç¤º
                memoryAttempts.textContent = memoryGameState.attempts;
                memoryMatches.textContent = `${memoryGameState.matchedPairs}/${memoryGameState.totalPairs}`;
                memoryTimer.textContent = '00:00';
                
                // åœæ­¢è®¡æ—¶å™¨
                if (memoryGameState.timer) {
                    clearInterval(memoryGameState.timer);
                    memoryGameState.timer = null;
                }
                
                // åˆ›å»ºå¡ç‰‡å¯¹ - ä½¿ç”¨ç¬¬ä¸€å…³çš„å·¥ä¸šé—äº§æ•°æ®
                const cardPairs = [];
                locationsData.forEach(location => {
                    // åˆ›å»ºæ”¹é€ å‰å¡ç‰‡
                    cardPairs.push({
                        id: `${location.id}-before`,
                        pairId: location.id,
                        name: location.name,
                        type: 'æ”¹é€ å‰',
                        image: location.before.image,
                        description: location.before.description
                    });
                    
                    // åˆ›å»ºæ”¹é€ åå¡ç‰‡
                    cardPairs.push({
                        id: `${location.id}-after`,
                        pairId: location.id,
                        name: location.name,
                        type: 'æ”¹é€ å',
                        image: location.after.image,
                        description: location.after.description
                    });
                });
                
                // æ´—ç‰Œç®—æ³•
                shuffleArray(cardPairs);
                
                // åˆ›å»ºå¡ç‰‡å…ƒç´ 
                cardPairs.forEach((item, index) => {
                    const card = document.createElement('div');
                    card.className = 'memory-card';
                    card.dataset.id = item.id;
                    card.dataset.pairId = item.pairId;
                    
                    card.innerHTML = `
                        <div class="memory-card-inner">
                            <div class="memory-card-front"></div>
                            <div class="memory-card-back">
                                <img src="${item.image}" alt="${item.name}">
                                <div class="memory-card-title">${item.name}</div>
                                <div class="memory-card-desc">${item.type}</div>
                            </div>
                        </div>
                    `;
                    
                    card.addEventListener('click', () => flipMemoryCard(card));
                    memoryGameBoard.appendChild(card);
                });
                
                memoryGameState.started = true;
            }
            
            // æ´—ç‰Œå‡½æ•°
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }
            
            // ç¿»è½¬è®°å¿†æ¸¸æˆå¡ç‰‡
            function flipMemoryCard(card) {
                // å¦‚æœæ¸¸æˆæœªå¼€å§‹æˆ–å¡ç‰‡å·²åŒ¹é…æˆ–å·²ç¿»è½¬ï¼Œåˆ™è¿”å›
                if (!memoryGameState.started || card.classList.contains('matched') || card.classList.contains('flipped') || memoryGameState.flippedCards.length >= 2) {
                    return;
                }
                
                // ç¿»è½¬å¡ç‰‡
                card.classList.add('flipped');
                memoryGameState.flippedCards.push(card);
                
                // å¦‚æœç¿»è½¬äº†ä¸¤å¼ å¡ç‰‡ï¼Œæ£€æŸ¥æ˜¯å¦åŒ¹é…
                if (memoryGameState.flippedCards.length === 2) {
                    memoryGameState.attempts++;
                    memoryAttempts.textContent = memoryGameState.attempts;
                    
                    const card1 = memoryGameState.flippedCards[0];
                    const card2 = memoryGameState.flippedCards[1];
                    
                    // æ£€æŸ¥æ˜¯å¦åŒ¹é…ï¼ˆåŒä¸€å·¥ä¸šé—äº§çš„æ”¹é€ å‰å’Œæ”¹é€ åï¼‰
                    if (card1.dataset.pairId === card2.dataset.pairId) {
                        // åŒ¹é…æˆåŠŸ
                        card1.classList.add('matched');
                        card2.classList.add('matched');
                        memoryGameState.matchedPairs++;
                        memoryMatches.textContent = `${memoryGameState.matchedPairs}/${memoryGameState.totalPairs}`;
                        memoryGameState.flippedCards = [];
                        
                        // æ£€æŸ¥æ¸¸æˆæ˜¯å¦ç»“æŸ
                        if (memoryGameState.matchedPairs === memoryGameState.totalPairs) {
                            endMemoryGame();
                        }
                    } else {
                        // ä¸åŒ¹é…ï¼Œç¿»è½¬å›å»
                        setTimeout(() => {
                            card1.classList.remove('flipped');
                            card2.classList.remove('flipped');
                            memoryGameState.flippedCards = [];
                        }, 1000);
                    }
                }
            }
            
            // å¼€å§‹è®°å¿†æ¸¸æˆè®¡æ—¶å™¨
            function startMemoryTimer() {
                memoryGameState.timer = setInterval(() => {
                    memoryGameState.seconds++;
                    const minutes = Math.floor(memoryGameState.seconds / 60);
                    const remainingSeconds = memoryGameState.seconds % 60;
                    memoryTimer.textContent = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
                }, 1000);
            }
            
            // ç»“æŸè®°å¿†æ¸¸æˆ
            function endMemoryGame() {
                clearInterval(memoryGameState.timer);
                finalAttempts.textContent = memoryGameState.attempts;
                finalTime.textContent = memoryTimer.textContent;
                setTimeout(() => {
                    memoryWinModal.style.display = 'flex';
                }, 1000);
            }
            
            // è®°å¿†æ¸¸æˆæç¤ºåŠŸèƒ½
            function showMemoryHint() {
                if (!memoryGameState.started || memoryGameState.flippedCards.length > 0) return;
                
                // æ‰¾åˆ°æ‰€æœ‰æœªåŒ¹é…çš„å¡ç‰‡
                const unmatchedCards = Array.from(document.querySelectorAll('.memory-card:not(.matched)'));
                
                if (unmatchedCards.length < 2) return;
                
                // éšæœºé€‰æ‹©ä¸€å¯¹æœªåŒ¹é…çš„å¡ç‰‡
                const pairIds = {};
                let pairFound = false;
                let card1, card2;
                
                unmatchedCards.forEach(card => {
                    const pairId = card.dataset.pairId;
                    if (pairIds[pairId] && !pairFound) {
                        card1 = pairIds[pairId];
                        card2 = card;
                        pairFound = true;
                    } else {
                        pairIds[pairId] = card;
                    }
                });
                
                if (pairFound) {
                    // çŸ­æš‚æ˜¾ç¤ºè¿™å¯¹å¡ç‰‡
                    card1.classList.add('flipped');
                    card2.classList.add('flipped');
                    
                    setTimeout(() => {
                        card1.classList.remove('flipped');
                        card2.classList.remove('flipped');
                    }, 1000);
                }
            }
            
            // äº‹ä»¶ç›‘å¬
            document.addEventListener('keydown', (e) => {
                gameState.keys[e.code] = true;
                
                // ESCé”®å…³é—­æ‰€æœ‰æ¨¡æ€æ¡†
                if (e.code === 'Escape') {
                    comparisonModal.style.display = 'none';
                    npcModal.style.display = 'none';
                    growthModal.style.display = 'none';
                    redevelopmentModal.style.display = 'none';
                }
            });
            
            document.addEventListener('keyup', (e) => {
                gameState.keys[e.code] = false;
            });
            
            // å…³é—­æ¨¡æ€æ¡†äº‹ä»¶
            closeComparisonModal.addEventListener('click', () => {
                comparisonModal.style.display = 'none';
            });
            
            closeComparisonBtn.addEventListener('click', () => {
                comparisonModal.style.display = 'none';
            });
            
            closeNpcModal.addEventListener('click', () => {
                npcModal.style.display = 'none';
            });
            
            closeGrowthModal.addEventListener('click', () => {
                growthModal.style.display = 'none';
            });
            
            closeGrowthBtn.addEventListener('click', () => {
                growthModal.style.display = 'none';
            });
            
            closeRedevelopmentModal.addEventListener('click', () => {
                redevelopmentModal.style.display = 'none';
            });
            
            closeRedevelopmentBtn.addEventListener('click', () => {
                redevelopmentModal.style.display = 'none';
            });
            
            // å¼€å§‹æ¸¸æˆæŒ‰é’®
            startBtn.addEventListener('click', () => {
                welcomeModal.style.display = 'none';
                gameLoop();
            });
            
            // å…³å¡åˆ‡æ¢
            nextLevelBtn.addEventListener('click', () => {
                levelCompleteModal.style.display = 'none';
                explorationGame.style.display = 'none';
                memoryGameContainer.style.display = 'block';
                initMemoryGame();
            });
            
            // è®°å¿†æ¸¸æˆäº‹ä»¶ç›‘å¬å™¨
            memoryStartBtn.addEventListener('click', () => {
                initMemoryGame();
                startMemoryTimer();
            });
            
            memoryResetBtn.addEventListener('click', () => {
                initMemoryGame();
                if (memoryGameState.started) {
                    startMemoryTimer();
                }
            });
            
            memoryHintBtn.addEventListener('click', showMemoryHint);
            
            memoryPlayAgainBtn.addEventListener('click', () => {
                memoryWinModal.style.display = 'none';
                initMemoryGame();
                startMemoryTimer();
            });
            
            // åˆå§‹åŒ–æ¸¸æˆ
            initGame();
        });
    </script>
</body>
</html>